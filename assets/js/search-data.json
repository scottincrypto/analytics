{
  
    
        "post0": {
            "title": "Zapping in & Zapping Out",
            "content": "Yearn Vaults, yveCRV-DAO and yvBOOST . Yearn Vaults . Yearn is a DeFi protocol which automates yield farming. Users have tokens which they want to hold - Yearn puts those tokens to work by finding the best yield farming opportunities across DeFi. It does this in a gas efficient way for the user, so even small deposits can get decent returns over time. . Yearn users deposit their tokens into Vaults, and receive a token in return which is proportional to their share of the vault capital. A Vault is a smart contract with one ore more Strategies sitting behind it. The Strategies are the yield-farming recipes which are created by clever humans (Strategists) and monitored &amp; managed by bots (Keepers). The Vault contains logics which automatically allocates the Vault deposits to whichever combination of Strategies gives the best return for the users. The rewards from the yield farming accrue into the Vault, so the value of the Vault token is always increasing. When a user withdraws from the Vault, they get more tokens than they deposited. This additional amount is the yield the vault has earned on their behalf. . Each Vault is structured around a particular underlying token - there are vaults for Eth, USDC, WBTC and many others. Users can deposit in the Vault native token, or they can deposit using any other token &amp; take advantage of Zaps. Zaps are smart contracts which take an input token and swap it for the underlying token in a gas efficient manner. The swap may occur via a number of dexs or dex aggregators, but this is abstracted away for the user. There is a similar feature when withdrawing - the user can withdraw the underlying token from a Vault, or choose to receive their funds in ETH, WBTC, DAI, USDC or USDT. It&#39;s important to know that whatever token the user deposits or withdraws, they maintain price exposure to the underlying token of the vault whilst deposited. Fun fact - Zaps aren&#39;t just used by Yearn - they are the tech which underpins the swap &amp; deposit functions on Zapper, and are used by other protocols like Pickle Finance . yveCRV Vault . Now the yveCRV Vault is a little different to the others. It starts with the CRV token, the governance &amp; reward token from Curve. Curve is a dex which specialises in stableswaps - swaps between tokens which have approximately the same value. Examples are ETH/stETH or swaps between dollar pegged stablecoins. Curve has optimised their swap code to make these swaps efficient from both a liquidity impact and fee perspected - see this post for a further exploration of Curve &amp; stablecoin swaps. . The CRV token has voting rights in the Curve DAO which makes decisions on the Curve protocol - things like fees, LP rewards, swap parameters and pools launched. In some Curve pools, liquidity providers receive CRV tokens to incentivise liquidity in the pools. CRV tokens are also available on the open market. To encourage users to stay as CRV hodlers, there is a facility to lock CRV tokens into the CRV DAO for a fixed period of up to 4 years. Users receive veCRV tokens (voting escrow Curve Tokens) for doing this, and more tokens are received the longer the locking period. veCRV holders can still participate in governance voting, they receive 50% of Curve trading fees and they qualify for boosted rewards (up to 2.5x) when they provide liquidity in Curve. . The fees generated for veCRV holders are collected in the form of 3CRV tokens (shares in the Curve tripool, which can be redeemed for stablecoins if desired. Fee distribution for veCRV holders happens weekly and users need to collect these manually and pay the gas cost for the transactions. . In true Yearn fashion there is a Vault &amp; a Strategy to maximise the returns from this CRV locking process. This is the yveCRV Vault and it&#39;s different to the other vaults in that you can&#39;t withdraw your tokens. Yearn takes CRV tokens and locks them with the CRV DAO for the maximum 4 year period and continually renews this lock. This maximises the veCRV returns to the Vault. In addition, all Yearn vaults send 10% of earned CRV into this vault for additional boost. The returns to the users are in the form of the 3CRV tokens earned by the veCRV - like the CRV staking contract, these are collectable weekly as an income stream, and must be collected manaully. Vault depositors receive yveCRV-DAO tokens as their share in the Vault. . yvBoost . Finally we get to the yvBoost Vault. This vault builds on the yveCRV vault, but automates the process of collecting the weekly rewards. The Strategy behind this Vault collects the 3CRV rewards each week, swaps them for more yveCRV then deposits them back into the Vault. The yvBoost vault is a standard Yearn Vault - you can withdraw part of all of your outstanding deposit and any accrued gains at any time. Working in the native tokens of the Vault, users can deposit or withdraw yveCRV tokens. Alternatively, users can take advantage of the Zap function and deposit pretty much any ERC-20 token into the Vault. They can also withdraw using Zap and collect WETH, WBTC, DAI, USDT or USDC. As the Zap conversions occur on the way in and out, the user maintains price exposure to the yveCRV tokens whilst deposited in the Vault. This post will look at what assets users choose to deposit and withdraw with in the yvBoost Vault, paying particular attention to what happens when they choose to Zap tokens other than yveCRV into or out of the Vault. . Deposits, Withdrawals &amp; Zaps for yvBoost . There are many ways in &amp; out of Yearn Vaults. Users can deposit or withdraw from the interface on the https://yearn.finance, using yveCRV or other tokens with Zaps. Users can also deposit via Pickle Finance, or via any number of other 3rd party interfaces, or even by directly interacting with contracts themselves. We saw 244 different contract calls which deposited or withdrew from the yvBoost vault. This post will only look at transactions from: . The standard deposit and withdraw function calls in the yvBoost Vault | Zapin deposits, via the yVault_ZapIn_V4 and yVault_ZapIn_V3 contracts | Zapout withdrawals, via the yVault_ZapOut_V3_0_1 and yVault_ZapOut_V2 contracts | . At a high level, it&#39;s useful to understand how much of the yvBoost Vault deposit &amp; withdrawal actions are happening via the native functions (using yveCRV) or via Zaps (using different tokens). The graph below shows this. The overwhelming majority of transactions occur using yveCRV tokens via the native Deposit &amp; Withdrawal functions: . . . Zooming in on the Zaps . The following diagram shows the Zap In &amp; Out transactions to &amp; from the yvBoost Vault. We can see, as we did in the graph above, that Zap In transactions outweigh Zap Out transactions by a factor of 4. This makes sense - the Vault has a significant TVL ($11m USD at the time of this post) and so people deposit more than they withdraw. Remember for the Zap in side, we can deposit ETH or any ERC-20 token, and the Zap will convert it to yveCRV and deposit in the Vault. We can see stablecoins are well represented (BUSD, USDC, DAI, TUSD), and ETH/WETH as well. CRV is the other significant volatile asset. On the exit side, where we are limited to withdrawing only 5 types of token, ETH/WETH is by far the largest. We will have a closer look at the makeup of Zap in &amp; out transaction in the next section. . . . Zap In Transactions - Which Tokens? . The following graph shows all the Zap in tokens in more detail. In the previous graph, the long tail was rolled up to &quot;other&quot; for easier viewing. As we saw in the network diagram above, dollar pegged stablecoins are most popular with WETH/ETH the 2nd largest category outright. An array of less popular stablecoins and defi tokens make up the long tail. Notice the odd coin out? Somehow a user has managed to deposit yveCRV via a Zap transaction. . . . Zap Out Transactions - Which Tokens? . The following graph shows all the Zap out tokens in more detail. ETH/WETH withdrawals are by far the most common, with the 3 stablecoins following up. Only a very small amount is withdrawn as WBTC using Zaps. Again, we also see a withdrawal transaction via Zap - a curious outlier. . Zap In over Time . Next we see what users Zap into the yvBoost over time. The graph below looks at the Zap In transactions, with the categories grouped up to aid with interpretation. All of the USD pegged stablecoins are labelled as such, and the long tail of DeFi tokens are labelled as &quot;other&quot;. We can see a large influx into the yvBoost Vault in May 2021. There may be a couple of reasons for this - firstly, the yvBoost vault was launched and may have attracted some early attention, and secondly, this was the time when crypto prices crashed across the board. This may have driven the large deposits of stablecoins in mid-May, as users looked for safe haven yields when volatile asset values were diving. Zap In deposits droppped to near zero from mid-June through to September, when a pickup of activity occurred. . . . Zap Out over Time . The corresponding chart for Zap Out transactions is below, with the same groupings of stablecoins shown. Aside from one large week of withdrawals at the end of April, Zap Out withdrawals were very quiet until June 2021. Withdrawals have been steadily trending down since that time. . . . Conclusions . We have taken a journey into the inner workings of the yvBoost vault, which has showed us how CRV tokens get locked in the Curve DAO contract, and how the yveCRV vault maximises the return from this strategy. The yvBoost vault automates this to make it a truly set &amp; forget yield solution for the user. We then saw how users deposited &amp; withdrew from the yvBoost vault, and drilled into what tokens they used when they weren&#39;t working in yveCRV tokens. The Zap transactions were mainly stablecoins on the way in, and ETH/WETH on the way out. . All data was sourced from the curated on-chain data tables at Flipside Crypto .",
            "url": "https://scottincrypto.github.io/analytics/curve/yearn/2021/09/25/Zapping-In-&-Zapping-Out.html",
            "relUrl": "/curve/yearn/2021/09/25/Zapping-In-&-Zapping-Out.html",
            "date": " • Sep 25, 2021"
        }
        
    
  
    
        ,"post1": {
            "title": "Stableswap Shoot-out",
            "content": "Stablecoin Swaps . Stablecoins arguably form the basis for decentralised finance on Ethereum. Whether it&#39;s borrowing, lending, liquidity provision or yield farming, there are almost always stablecoins in the middle of it. The stablecoins we are referring to here are the 3 big USD pegged stablecoins - USDC, USDT and DAI. Defi is full of decentralised token exchanges - dex - which exchange one token for another. A specialised use case of the dex is stablecoin swaps - exchanging between USDC, USDT and DAI either to get the right token for the job users need to do, or to arbitrage between 3 assets that should be worth USD 1 each but often are not exactly. As the value of each of these coins is close to equal, a number of optimisations to the traditional AMM dex model have evolved for stablecoin swaps. The intent of this post is to look at the efficiency of these alternatives &amp; see which one gives the best results for users. . Stableswap Efficiency . Firstly we should define what we mean by efficiency of a stablecoin swap. Let&#39;s imagine a magical world where USDC, USDC and DAI are worth exacly 1 USD each. Right now, it&#39;s really close to that, but certain parties assign different risk discounts to each coin and it is not always the case. We will make the assumption that these coins are equivalent in underlying value as the arbitrage trade is enormous and relatively efficient. A perfect stablecoins swap should therefore be receiving tokens at a 1:1 ratio. It is almost always less than this, due to four areas of loss for the user: . Swap fees - a dex will generate revenue by taking a percentage of each swap. It is a competitive market for stableswaps, and these fees are often very low - 0.05% for Uniswap v3 and 0.03% for Curve on stablecoin swaps. | Price Impact - The quoted price on a dex is the price for the next token swapped, regardless of the size of the trade. Dex type exchanges rely on a pool of liquidity for each token in the swap, with the actual swap price being a function of the ratio of the tokens in the pool after the swap occurs. If the swap is a significant portion of the pool liquidity it can move the realised price that the user receives. This can be mitigated by the design of the AMM, particularly with stablecoin swaps where the swap range between tokens is very narrow. This is a key component of our analysis here - dex protocols don&#39;t just compete on fees, they also compete on the swap curve design. A number of our target protocols have optimised the swap curve to minimise price impact on swaps. | Slippage - a blockchain is a dynamic environment, being used by potentially millions of users at any one time. Slippage occurs when the quoted price of a swap changes due to the action of other simultaneous market participants. A user can submit a swap at a given price, but if a large transaction occurs at around the same time, the user may receive more or less than expected because of this transaction. This is known as slippage, and most dex UIs include a limit on slippage tolerance for the user. If the slippage is more than the tolerance, the transaction will fail. | Blockchain Transaction Fees - the Ethereum network uses the ETH token to pay for blockspace in the blockchain, and this payment is called gas. Blockspace is a limited resource and there is a free market for inclusion. Prices are high during times of congestion and lower at other times. Gas prices form a significant portion of dex impact for users, particularly with lower value swaps. | . The focus of this post is the user - what does the user get in a stablecoins swap, compared with the 1:1 ideal situation? . Dex Models . Before we begin, an outline of each dex model is in order: . Uniswap V2 - Constant Product AMM . Uniswap launched as the OG Automated Market Maker dex, based on a Reddit post by Vitalik in 2016. It uses the constant product model - x * y = k, where the price of a token in a dex pool is equal to the ratio of that token to the other token in the pool. Uniswap was hugely successful with this model, spawning many imitators. . Curve - Optimised Swap Curves for Stableswaps . Constant product dex markets are subject to price impact and slippage. They are optimised for swapping between a large number of tokens, rather than efficient swaps between a small number. Michael Egorov, the founder of Curve, recognised this and founded Curve, with a swap curve more efficient than the constant product model for swaps of tokens of a similar value. It was enormously successful and has attracted over USD 12b of liquidity. Curve has the Tripool - an AMM pool for USDC, USDT and DAI with over USD 2b of liquidity alone. . Uniswap V3 - Targeted Liquidity . In the constant product AMM model, the liquidity is spread over all prices for both tokens. For pegged stablecoins, where the price of each coin is well within 1% of the price of the other coins, this means that much of the liquidity is never utilised. Uniswap launched V3 of their protocol, allowing users to target their liquidity around specified price points. This had a major impact on the capital efficiency of stablecoin swap pools and helped to close the market gap to Curve. . Balancer . Balancer uses a single vault model, where users interact with a single contract for all swaps. The swap logic is abstracted away to underlying pools so that the user only pays gas fees on the vault transactions. The underlying pools implement optimised swap curves for the target tokens, giving users advantages in swap efficiency and gas usage. . Saddle . Imitation is the sincerest form of flattery. Saddle launched to outcries of copyright infringement with their Curve inspired stableswap AMM. Let&#39;s see how it stacks up. . Judging the Stableswap Options . To analyse which is the best option for users when swapping stablecoins, we collected on-chain data from Flipside Crypto. This data looked at swaps between the three major pegged stablecoins (USDC, DAI, USDT) on the five platforms described above (Curve, Uniswap V2 &amp; V3, Balancer, Saddle). Sushi was excluded from the analysis as it carries very low liquidity in stable-stable pair pools - it appears most stableswaps are done via intermediate tokens like ETH. Data was sourced which met the following criteria: . Swaps occured during the last 2 months (to 2021-09-17) | Swaps weren&#39;t done via aggregators like 1inch or Paraswap - direct with the protocol only | Swaps weren&#39;t routed between intermediate pairs - they were direct in &amp; out of the stablecoin pools | Transactions with zero gas fees were excluded - services like Flashbots allow advanced users to substitute gas costs with direct payments to block miners. | . The analysis centered on the return to the users - for every token swapped in a stablecoin swap, how much was lost in the transaction. Assuming that each of our stablecoins is equivalent in value (1 USD), this was calculated by dividing the received token amount by the submitted token amount. This was done in two ways: . Excluding gas costs - looking at swap fees, price impact &amp; slippage only. This give insight into the underlying design &amp; liquidity of the swap protocol. | Including gas costs - the net outcome for the user. The only thing that really matters. | . Note on Balancer - Balancer swaps can include a rebate in BAL tokens for user gas costs. These have not been considered in this analysis, because they have been interpreted as a usage incentive which may not persist, rather than as an underlying part of the protocol. . Overall Performance Across all Stableswap Pairs . The first analysis makes the assumption that USDC, DAI and USDC are equivalent in value, so we don&#39;t differentiate between swap pairs (yet). For all the transactions which meet the criteria in the paragraph above, we look at the transaction cost to the user. This transaction cost, expressed as a percentage, is the amount lost compared to the ideal 1:1 swap from a perfect exchange. More formally, it is: . . For example, if the user puts in 100 USDC and receives 99 DAI, then the transaction cost % would be 1%. Lower is better. . Excluding Gas . The chart below shows the transaction cost % across all pairs over the last 2 months, excluding the impacts of gas. As we can see, Curve is the most cost efficient dex, with an average transaction cost impact of under .04%. Curve charges 0.03% as a protocol fee on the Tripool, so there is around 0.01% of slippage &amp; price impact on stablecoin trades on Curve. Compare this to Uniswap v3, which has 0.05% fees. The Uniswap v3 overall cost impact is less than the fees, indicating that there may be some positive slippage &amp; price impact for users on the platform. Here we also see the benefits of optimising for stablecoin swaps over a generall AMM model. The Uniswap V2 platform - built for swapping many different tokens over all price ranges - is an order of magnitude more costly than the optimised stableswap dex environments. . . . Including Gas . It&#39;s no secret that gas costs have been prohibitive on Ethereum over the past 2 months. The NFT boom has driven up competition for blockspace and gas levels have been consistently high, as well as suffering from extraordinary short term spikes. When we factor this into the analysis the results are as below. Curve is still the most efficient dex overall, with an average impact of 0.045%. Uniswap v3 is next, then there is daylight to the others. As gas costs in a transaction are a fixed amount the impact of gas will depend on the swap size. There is probably a swap size influence on these numbers below - this will be investigated further. . . . Performance by Swap Size . The charts below show how much volume is swapped on the exchanges in different swap size classes. We can see that for swap sizes below USD 100k, Uniswap has the most volume across both v2 and v3. For swap sizes between 100k and 1m, Curve and Uniswap v3 dominate. Above 1m, Curve is the clear choice for stablecoin swaps. We can conclude that for small swaps, users favour the popularity &amp; ease of use of the Uniswap platform, but for serious sized swaps there is a greater sophistication and a desire to get the best deal possible. We also see that Balancer &amp; Saddle have insignificant swap amounts compared with the others. It&#39;s worth reinforcing that the swaps investigated here are only those done directly via the protocols - much of the volume routed through Balancer &amp; Saddle are likely coming from aggregators and other protocols. . . . Excluding Gas Costs . The graph below shows the transaction costs, excluding gas, segmented by swap size. The charts are relatively consistent, with Curve being the best performer across all classes. An interesting trend is the increase in costs in Uniswap v2 as the swap size increases. This is due to price impacts in the pool - the larger swaps are a big enough proportion of the total pool liquidity to impact the price. . . . Including Gas Costs . Now we see the real outcome for the user, with gas costs included. The charts below show the total transaction cost, including gas, across the different swap size cohorts. Please note the scales are now different on each chart to allow better comparison. We see that for smaller swap sizes (&lt; 10k), the gas efficiency of Uniswap v3 makes this the cheapest option for users. There is a significant margin in this advantage for very small swaps (&lt; 1k). As swap sizes increase, however, the underlying protocol and liquidity advantage of Curve washes away the gas costs and we see Curve as the best performing dex for swap sizes larger than USD 10k . . . Return by Swap Pair . To confirm the conclusions above, we will look to see if there is any influence on transaction costs based on the swap pair. The chart below shows the volume of swaps by swap pair. There is a difference in volume between the most popular and least popular swap directions of around 3x - we will see if this influences the transaction cost outcomes. . . . Transaction Cost by Swap Pair . The charts below shows the transaction costs, including gas, split by the swap pairs. The trend is relatively consistent across all pairs, and conistent with the overall conclusions we have made. Curve is the best performing dex across the board, followed by Uniswap v3. An interesting feature of these charts are the DAI-USDT and DAI-USDC performance of Curve - the transaction costs are much lower than the average, probably due to favourable price impact in the swaps. For the DAI-USDC swap direction there is a negative cost for the user - the user receives more USDC than the DAI swapped in. . . . Conclusions . In attempting to do a fair comparison between stablecoin swap platforms, we examined nearly $3b of transactions over a 2 month period, looking at swaps done directly with these swap platforms. We found the following: . Curve is, on aggregate, the cheapest place to swap the big 3 stablecoins. | For smaller transactions (&lt; 10k USD), Uniswap v3 appears to be cheaper due to gas cost efficiency | For larger transactions than 10k, Curve is the clear winner | There is a big advantage in transaction costs using a specialised stablecoin swap platform, as opposed a general purpose dex like Uniswap v2 | Simply copying an existing concept is not a recipe for instant success for Saddle - the weight of liquidity in Curve translates to better outcomes for users, which begets even more liquidity and cheaper costs | . If you are a user looking to swap stablecoins (USDC, USDT, DAI), then Curve should be the first choice. It&#39;s worth a comparison with Uniswap v3, however, as it may be slightly more gas efficient on smaller trades. Happy swapping. . References: . All data was sourced from the curated on-chain data tables at Flipside Crypto | Insights on dex pricing impacts were from this article by Hasu at https://research.paradigm.xyz/amm-price-impact | The idea for this post was inspired by this article at the fantastic Curve Market Cap https://curve.substack.com/p/august-18-2021-curve-vs-balancer | .",
            "url": "https://scottincrypto.github.io/analytics/curve/2021/09/19/Curve_Stableswaps.html",
            "relUrl": "/curve/2021/09/19/Curve_Stableswaps.html",
            "date": " • Sep 19, 2021"
        }
        
    
  
    
        ,"post2": {
            "title": "Polygon Bridging Behaviour",
            "content": "Introduction . This post seeks to answer the following questions: . Where do people go when they bridge to Polygon from Ethereum? What are the 10 most popular first destinations for Polygon addresses that have just bridged from Ethereum? What has this been for each day in the past month? . Polygon operates as a sidechain to Ethereum, with funds moved to &amp; from Polygon via a series of bridges. These bridges accept tokens on the Ethereum side, then create wrapped versions of the same tokens on the Polygon side. Users are attracted to Polygon by the low fees &amp; fast transactions speeds relative to Ethereum. In the absence of fiat onramps, bridges are the only way into the ecosystem. There are a number of bridges in operation by different operators, but this analysis will focus on the official Polygon bridge provided by the protocol. . About the Data . This dataset looks at all of the transactions coming into Polygon via the Polygon Bridge over the last month. It then looks at the next transaction each wallet undertook in the currency that was bridged in, and classifies the destination of that transaction. In examining the data, a couple of observations were noted: . Often the first transaction was a very small swap for MATIC - the token used for gas on Polygon | Most of the coins bridged were either USDC, USDT, WBTC or WETH. Only 3% were other coins, and there was a very long list of these other coins. | . To simplify the analysis, we excluded any next transaction with a value of less than USD 10, and looked at the transaction after this instead. This lets us see the intent of the user more than looking at their initial MATIC swap transaction instead. We also limited our analysis to the 4 major coins above - this accounts for 97% of the funds bridged (as per the table below) and allowed us to simplify the charts for better insights. . All data was sourced from Flipside Crypto . Bridged Token USD Amount Percentage . 1 USDC | 4.457159e+08 | 45.0 | . 2 USDT | 2.783901e+08 | 28.0 | . 3 WBTC | 1.622389e+08 | 16.0 | . 4 WETH | 8.141258e+07 | 8.0 | . 5 other | 2.897250e+07 | 3.0 | . Top Destinations . The destination addresses &amp; contracts were classified by project or protocol to understand where users were going after bridging to Polygon. We managed to classify over 70 of these destination contracts to account for over 75% of the value moved. There was a very long tail (over 23k addresses) accounting for the remaining 25% of the value - these are labelled as &quot;Unknown&quot; in the data going forward. . The graph below shows the next destination of the bridged funds. Aave is the top destination, with a lot of value coming into Polygon to take part in borrowing &amp; lending activities. A number of familiar names from the Ethereum ecosystem are in the list - Curve, 1inch, Balance, Sushi - but there are a few non-Ethereum specific names in the list - Quickswap, Iron Finance, Polynetwork. An interesting find in this list are the bridges - a signficant portion of funds were immediately bridged out of Polygon after being bridged in. This was done via the Polygon Bridge (&quot;Bridge Out&quot;) or via the Allbridge facility. It&#39;s possible users are using Allbridge to get to chains such as Solana or Binance using Polygon as an intermediate step. . . . Flow of Funds . By Destination . The graph below shows the flow of funds from bridge, by token bridged, into the destination protocols shown above. We can see the large flows into Aave - interestingly most of the Aave flow is USDC, USDT or WBTC. WETH makes up only a small portion of the flow. WETH yields are usually low on Aave, but WBTC yields are too. Low yields do not show the full picture of user behaviour here. . . . By Use Case . To simplify the above graph, each destination was classified into a broad use case grouping. This is shown in the graph below. Users coming to Polygon for Defi activities (Aave, Iron Finance etc) account for the largest grouping. Here we see the amount of funds bridge immediately back out of Polygon - 11% of funds bridge in are immediately bridged out. Another observation from this graph is that there is a small amount of hodling occuring - this is seen where the inflows to each token are less than the outflows. . . . Most Popular Destinations by Day . The chart below shows, by day, the ranking of each of the destinations by the USD amount sent to them. This chart is very busy and a littled difficult to intepret. To target a particular protocol, double-click on the protocol in the legend and the graph will isolate just that protocol. Clicking on another protocol after this will add it to the graph. Double-click again to return to all values. . Aave is consistently the top performer, being always ranked at number 4 or higher. The unknown category also features highly - indicating that there are a wide variety of destinations on Polygon and it&#39;s not just a small handful capturing all the action. The behaviour with bridges continues to yield interesting insight - Allbridge has risen to be a consistent top 5 destination in the last 2 weeks - perhaps this is coincident with the rise in interest in Solana, as Allbridge can be used to bridge to this chain. . . . Most Popular Use Cases by Day . To simplify the above graph, we used the broader classes of use cases rather than the destination protcols. Here we see that Defi usage is on average the highest - this contains Aave. Users are obviously keen to generate yield from their funds in Polygon, taking advantage of the low fees relative to Ethereum to deposit their funds. We also see that funds jumping straight to dex swaps has dropped off - 3-4 weeks ago this was the highest use case, now it is amongst the lowest. . . . Conclusions . The Polygon Bridge allows users to bring funds from Ethereum into the Polygon ecosystem. We have looked at what users do once they bridge funds in. We have discovered the following insights: . 97% of value bridged in is 4 tokens - USDT, USDC, WBTC, WETH - with a long tail of other tokens. | The top single destination for bridged funds is depositing on Aave. | There is a mix of Ethereum-based protocols used (Aave, Curve, Balancer, Sushi) and protocols that are based in other chains like Polygon &amp; BSC (Quickswap, Iron Finance). The former indicates users bridging to Polygon for the lower fee environment, but the latter indicates there may be pull due to some unique opportunities on the ecosystem. | We saw 11% of funds bridged in immediately bridged out in the next transaction. It&#39;s possible that Polygon is being used as an intermediate step to bridge to other ecosystems. | We looked at the most popular destinations and use cases by day - Defi usage (depositing, yield seeking) is consistently the most common use case, driven by Aave. | .",
            "url": "https://scottincrypto.github.io/analytics/polygon/2021/09/15/Polygon_Bridge.html",
            "relUrl": "/polygon/2021/09/15/Polygon_Bridge.html",
            "date": " • Sep 15, 2021"
        }
        
    
  
    
        ,"post3": {
            "title": "Terra Validator Churn",
            "content": "Introduction . The Terra network operates a set of proof of stake validator nodes to provide security for the network. Validators are judged on their uptime and on the quality of their validation - any deviations from expectations can result in slashing and loss of funds for the validator operator. This post explores some uptime &amp; downtime insights of the Terra validator nodes. . How often do Validators go down? . How often do validators that have been online at least once in the past 6 months turn off? It turns out, that on average, it happens pretty often - once every 1.6 hours for each validator (see table below). This simple statistic doesn&#39;t really tell the story though - there are some very reliable validators and some rather unreliable ones making up this average. . We took a dataset of all validators who collected rewards over the last 6 months, and looked for the liveness events recorded on chain. These events are collected by the protocol and used in slashing calculations for nodes that haven&#39;t met their validation requirements. These events keep a record of how many blocks a validator missed validating. . Taking these liveness events and looking at how many, on average, each validator has had over this time (adjusting for how long the validator has been running), we can calculate an average time between downtime events for each validator. Another name for this metric is Mean Time Between Failure (MTBF) - a common metric in Asset Management. We can plot the MTBF for each validator and see what the distribution looks like below. . MTBF . 1 1.6 | . . . We see there is a large variation between validators, pointing towards the conclusion that there are a number of very professional outfits, and potentially some less skilled or resourced node operators on the network. There are 4 validators who operate with an MTBF of greater than 60 hours (one downtime event every 2-3 days) and there are nearly 50 who operate at less than 2 hours between each downtime event. . Change in MTBF Over Time . To see how the MTBF metric has changed over the last 6 months, we plot the MTBF (per validator) over time below. We can see there has been a marked decrease in MTBF over the 6 months, with early weeks as high as 6 hours between downtime events, trending down to less than 1 hour per event per validator. This indicates a decrease in the overall reliability of the validator nodes over this time period. . . . High Performing Validators . We saw earlier that there was a distinct difference between the best and worst performing validators. The graph below segments the data to just look at the top 10 best performing validators (by number of downtime events relative to their operating time) over the last 6 months. Here we also see a downward trend. Earlier, MTBF ranged in the hundreds of hours between failures. This has trended down to around 30 hours between dowtime events. Notice that this is more than an order of magnitude better than the current average of around 1 hour. . . . Low Performing Validators . Performing the same analysis on the worst 10 validators (by downtime events) we can see why the average is so low. The most recent week average MTBF for this group is around 8 minutes, and there is a distinct downtrend from 6 months ago when this number was as high as 1 hour. This mirrors what we have seen in the rest of the dataset - reliability is trending downwards. . . . Conclusions . The data above has explored the downtime events among Terra validators. We have seen that, on average over the entire validator set, validators miss blocks around once every 1.6 hours. There is a vast difference between validators however - the best 10 validators currently miss blocks every 30 hours and the worst 10 miss one every 8 minutes. Across all datasets there has been a trend of decreasing reliability compared with 6 months ago. . References . All data sourced from Flipside Crypto. Data sources: . https://api.flipsidecrypto.com/api/v2/queries/5eebcedf-5edd-4afd-931a-5932d5fbf964/data/latest https://api.flipsidecrypto.com/api/v2/queries/9c6e455a-66eb-45f9-b87a-c76d716e0040/data/latest https://api.flipsidecrypto.com/api/v2/queries/7013252f-a0fe-43b2-abea-b4f42e319210/data/latest https://api.flipsidecrypto.com/api/v2/queries/5ac709ee-887c-4522-9bc8-15cec97720e0/data/latest .",
            "url": "https://scottincrypto.github.io/analytics/terra/validators/2021/09/12/Terra_Validator_Churn.html",
            "relUrl": "/terra/validators/2021/09/12/Terra_Validator_Churn.html",
            "date": " • Sep 12, 2021"
        }
        
    
  
    
        ,"post4": {
            "title": "Anchor bAsset Usage",
            "content": "Here we attempt to answer the questions: . What is the number of users who are using Anchor to both borrow against their bAssets and place those borrows directly in Earn? What is the average leverage LTV risk they are taking in doing this? . Anchor is a borrow/lend protocol on the Terra Blockchain. It accepts assets for collateral (Luna and Eth), however these assets must be bonded first - a locked form of staking. Hence the collateral tokens accepted are bLuna and bEth. Once these bTokens are deposited in Anchor, users are able to borrow UST against, up to a maximum Loan-to-Value ratio of 60%. The LTV is simply the borrowed amount in UST divided by the current USD value of the collateral. If the LTV goes above 60% due to the collateral value falling, the loan can be liquidated and the borrower will lose a portion of the capital to repay the loan. . Anchor also has a deposit facility, where users can deposit UST and earn an interest rate from it. At the time of writing this article, the yields are very health. Anchor deposits earn 19.44% APR. This yield is slightly lower than the borrow interest rate - 21.1%, however there are ANC incentive rewards on the borrow side. This gives a net borrow interest rate of 18.8% in favour of the borrower. Yes, you read that correctly - you are paid to borrow money and paid again to deposit back into the protocol. . Number of Users Borrowing &amp; Depositing . With this deal on offer (possibly the best stablecoin yield in DeFi) it is no surprise that lots of users are taking up the offer. In pulling these data together, there were well over 0.5m transactions on the protocol. It was clear that users do multiple transactions - the table below shows 15,523 unique wallets who had both borrowed money from Anchor and deposited a sum back into the Earn portion. . A quick note on the data aggregation method - because of the large numbers of transactions, the data was simplified according the following rules: . Data was aggregated by day | A users collateral deposit &amp; withdrawal events were summed over the day, with the resulting collateral amount being the running total of all their collateral transactions to the end of that day | A users borrow &amp; repayment events were also summed over the day, with the resulting net borrowing position amount being the running total of all their borrow/repay transactions to the end of that day | Users deposit events were summed over the day | . This approach simplified the data considerably (0.5m events down to 65k events) but generated a small number of edge cases which didn&#39;t make sense after aggregation. These were driven by intra-day events - if a user deposited collateral, borrowed against it, deposited, withdrew the deposit, repaid the loan then withdrew the collateral, this would show up as a borrow event with no loan and no collateral. These small number of edge events (1000 or so) were filtered from the dataset. The remaining data will still be representative of user behaviour. There is also the underlying assumption that if a user deposited on the same day they borrowed, then they were depositing the borrowed money. . Unique Wallets . 1 15523 | . How much do People Borrow? . It&#39;s worth a look at what the typical loan sizes are for the people who are borrowing and depositing back into Anchor. The graph below shows, for each unique wallet, what was the peak borrow position for that wallet. In other words, of all the days that the user deposited back into Anchor Earn, what was the largest loan total they over those days. This gives us a feel for how deep each user was prepared to borrow from Anchor. . The graph below shows this distribution, with the maximum loan position along the bottom of the graph. It shows that most wallets borrow between 100 UST and 10,000 UST. Given the excellent returns, it&#39;s no surprise to see some big accounts. There are over 100 wallets who had over 1m UST outstanding, and 15 who had more than 15m UST outstanding. . . . What Collateral Assets are Used? . When Anchor launched the only available collateral asset was bonded Luna (bLuna), available from bonding Luna tokens to a validator via the Anchor protocol. In August 2021, Ether became an Anchor asset. This was done via the Lido protocol on Ethereum. Users are able to wrap ETH or stETH (ETH already staked on Lido) into a bEth token which represents their staked ETH on the Terra blockchain. This allows users to retain long term exposure to ETH, whilst taking advantage of the yields on offer in Anchor. Unsurprisingly, users have taken advantage of this. The graph below shows the % of collateral assets deposited in Anchor by our users (those who are both borrowing &amp; depositing on Anchor). After launch, the % of bEth as collateral quickly jumped to around 5% of the total. Expect to see this rise as more users find out about this yield opportunity. Anchor plans to add more assets to the potential collateral pool in the future. . . . Loan to Valuation Ratio . Average LTV . To calculate the Loan to Valuation Ratios, on each day that a user made a deposit, we took the outstanding loan position and divided it by the collateral position on that day - using that days underlying asset prices. The table below shows the average LTV ratio for all users - around 32%. This is around half of the liquidation cuttof of 60%, and is lower than the Anchor recommended LTV of 45%. It appears users are relatively conservative with their loans - no surprises given how volatile the underlying assets can be. . Average LTV % Weighted Average LTV % . 1 31.6 | 32.7 | . Distribution of LTVs . The graph below shows a histogram of the LTVs for all days where a wallet deposited borrowed funds in Anchor. Standout features include a big spike around 35% - this seems to be the most popular range. There are also spikes in 5% increments from 20% through to 45% - it seems that people gravitate towards multiples of 5. An evolutionary impact of having 5 fingers perhaps? It is also clear that most users borrow at less than the Anchor recommended LTV of 45%. There are a small numbers of thrillseekers however who deposit right up to the 60% limit. Liquidation stats for these users would be interesting. . . . LTV by Borrow Position Size . Next we will see if there is any correlation between the size of a users outstanding borrow position and the LTV they choose when borrowing. The graph below shows a clear trend - lower value borrowers have a lower LTV and higher borrowers take on more liquidation risk. In particular, the accounts with &gt;1m UST outstanding have the highest LTVs - around 38% on average. It&#39;s possible that these users spend more time watching the markets, perhaps understand them better and are confident to take on a higher amount of risk. . The graph below this one is the same data, but shown with a boxplot. The same trend is evident, and we see that the &gt;1m UST borrowers have a narrower range of LTV. . . . . . LTV Over Time . Looking at LTV over time, we see some variation - LTV ranges between around 28% at the low point, and around 35% at a high. Interesting datapoints include the sharp drop in LTV in mid-May 2021. THis was the time when crypto asset prices suffered sharp and substantial drops. It&#39;s possible that higher leveraged positions were flushed out by liquidations during these rapid price falls. The sharp rise in LTV from June through to August coincided with Luna rising in price from USD 6 to USD 30 - this obviously gave users confidence to borrow against these rising positions &amp; take advantage of the juicy Anchor borrow &amp; deposit rates. . . . LTV by Borrow Position Size over Time . We will repeat the chart from above, but split by our borrow size cohorts from the previous sections. There are common trends evident in the data - the May 2021 price crash seemed to impact all users. An interesting group is the 1m-10m UST borrow group - they seem to push the LTV consistently up towards 40%, indicating a purposeful and managed approach to farming yield on Anchor. . . . Conclusions . The on-chain data has shown over 15,000 unique wallets which are both borrowing from Anchor and depositing in the Earn facility at the same time. These users, on average have an LTV of around 32%. This LTV differs depending on the size of the loan, with larger users prepared to take on more liquidation risk. The LTV has changed over time, seemingly in response to market pricing changes in underlying assets. In particular, there was suggestion that rapid price falls caused liquidations, leading to lower overall LTVs. . Data sourced from Flipside Crypto: https://api.flipsidecrypto.com/api/v2/queries/1d474896-d69b-41f3-9f6f-e9c1f5a70a5f/data/latest .",
            "url": "https://scottincrypto.github.io/analytics/terra/anchor/2021/09/08/Anchor_bAssets_Usage.html",
            "relUrl": "/terra/anchor/2021/09/08/Anchor_bAssets_Usage.html",
            "date": " • Sep 8, 2021"
        }
        
    
  
    
        ,"post5": {
            "title": "Flipside Crypto Prize Winning Bounty Projects",
            "content": "Yearn Bounties . Yearn TVL and ROI Comparing Yearn Strategies as featured as Bounty of the Week and in this Flipside Crypto Blog . Polygon Bounties . Polygon Bridging Behaviour as featured in this Flipside Crypto Blog . Terra Network Bounties . Exploring Mirror Airdrop featured in this Flipside Crypto blog post Terra New User Inflow featured as Bounty of the Week Terra Validator Rankings featured in this Flipside Crypto blog Terra Transaction Fees Terra Tax Rate Terra Validators Self Delegating Angel Protocol Delegations . Uniswap Bounties . Uniswap Fee Volatility featured in this Flipside Crypto Blog Uniswap Voting Power Distribution featured in this Flipside Crypto Blog Defi Users vs Newbies . Compound Protocol Bounties . Compound APY Volatility Compound Investment Strategy Impacts of Crypto Price Crash on Compound Users Compound Collateralization Ratio Typical Compound Users Compound Flash Loans Compound - Miners &amp; Liquidations Flipside Crypto blog featuring some of these Compound Bounties .",
            "url": "https://scottincrypto.github.io/analytics/flipside/2021/09/01/Flipside-Crypto-Grand-Prize-Winning-Bounties.html",
            "relUrl": "/flipside/2021/09/01/Flipside-Crypto-Grand-Prize-Winning-Bounties.html",
            "date": " • Sep 1, 2021"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "Scott Simpson @scottincrypto . Available for Crypto Analytics work, including: . Dune Analytics | Flipside Crypto | . This website is powered by fastpages 1. . a blogging platform that natively supports Jupyter notebooks in addition to other formats. &#8617; . |",
          "url": "https://scottincrypto.github.io/analytics/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page10": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://scottincrypto.github.io/analytics/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}