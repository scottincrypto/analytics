{
  
    
        "post0": {
            "title": "Llama Fei Dune Dashboard",
            "content": "Fei Protocol . Fei Protocol is a decentralized, scalable, and DeFi-native stablecoin protocol. Fei commissioned Llama to build a Dune Dashboard to show the rates &amp; usage of the Fei stablecoin in DeFi lending markets. I built the dashboard on behalf of Llama. . .",
            "url": "https://scottincrypto.github.io/analytics/dune/llama/fei/2022/03/16/Llama-Fei-Lending-Dashboard.html",
            "relUrl": "/dune/llama/fei/2022/03/16/Llama-Fei-Lending-Dashboard.html",
            "date": " • Mar 16, 2022"
        }
        
    
  
    
        ,"post1": {
            "title": "Designing an Airdrop - A Case Study with Paraswap",
            "content": "Token Launches &amp; Airdrops . Token launches happen in many ways. Tokens can be issued directly to team members or investors, vested in time-locked contracts for later distribution, trickled out to liquidity providers or miners as rewards for providing a service to the protocol, or delivered directly to users via airdrops. Many protocols launch a token when (or before) a protocol launches as a means for raising capital. Some protocols launch without a token and add one later, often using airdrops to reward prior users of the protocol for their support. Airdrop design is tricky - it is very difficult to satisfy everyone all of the time. This article will explore what makes an effective retroactive airdrop design, using the recent Paraswap airdrop as an example. . The Paraswap Airdrop . In November 2021 Paraswap, a multi-chain DEX aggregation protocol, launched the PSP token to decentralise ownership of the protocol. 7.5% of the token issuance was given to Paraswap users to reward them for their prior use of the protocol. This act help to boostrap the Paraswap DAO and give the community the chance to contribute to and have a say over the future of Paraswap. 150m PSP tokens were issued to almost 20,000 wallets, with users receiving either 5200, 7600 or 10400 PSP tokens, worth as much as USD15,000 in the days immediately after the airdrop. . . Airdrop Design Goals . To assess the effectiveness of an airdrop design we need some goals against which to compare. The goals of an airdrop are subjective - developers, investors and other team insiders may have a view on what a good airdrop looks like, and the protocol users may have another. There is also a noisy group of people totally unrelated to the project who will deliver their verdict to anyone who will listen. We will look airdrop design goals from a couple of angles to see if there is common ground. . Goals of the Paraswap Team . The Paraswap team posted a detailed article on their logic behind the airdrop distribution mechanism. This touched on a number of their goals: . They wanted to reward &quot;active&quot; users | They wanted to avoid a volume based solution, as this favours whales with large bags | They wanted to filter out airdrop hunters - people who only use the protocol to get the airdrop and may use multiple wallets to get multiple airdrops. Ribbon Finance was subject to this kind of attack in a well publicised incident. | They wanted the airdrop quantity to be based on activity level | They wanted to ensure geniune users only, avoiding users who were wash trading or wrapping/unwrapping tokens | . The team put these goals in place in order to give tokens to community members who are more likely to be aligned with the success of the protocol. People who are active and regular users are more likely to join the DAO, contribute and vote on the future of Paraswap. . The Paraswap Airdrop Rules . To execute on these goals, the Paraswap team started with every wallet that had ever interacted with the project (1.3m wallets) and filtered down to 20,000 &quot;active users&quot;. They used the following principals when filtering: . Ignoring wash-trading and wrap/unwrap transactions | Removing tokens with low trading volumes (&lt;$1m) | Actively looked for airdrop hunters and filtering them out (addresses that had patterns of scripted or automated repeat transactions) | Filtering out accounts with low balances or low holding durations | Making a minimum transaction threshold of 6 transactions in the last 6 months | Clustering accounts which transfer to each other | . With the 20,000 address eligible for rewards determined, the Paraswap team decided to allocate one of 3 reward tiers - 5200, 7600 or 10400 tokens. They used a points-based solution to determine the size of the reward using these factors: . Total transaction count | Max value in a single transaction | Total volume of transactions | Paraswap used on more than one blockchain | . Community Expectations . Airdrops are an emotive issue, especially with recent airdrops being worth 5 figures (dydx, ENS) for protocol users. There is no shortage of public commentary around what makes a good airdrop. Much of this can be distilled into concepts of fairness, which seems to be based on: . Rewarding regular or frequent users | Punishing users who game the airdrop via multiple wallets or many small transactions | Egalitarian distribution - spreading the rewards evenly amongst users and not allowing whales to dominate | . It should be said that the airdrop doesn&#39;t have to meet the expectations of the broader community. Prior to the token launch the team has sole discretion on the direction for the token. The decision is theirs. The future success of the token price &amp; usage may, however, depend on how well received it is by future holders &amp; DAO members. . Measuring a Effective Airdrop . We see considerable overlap between the design goals of the Paraswap team and the concepts of fairness outlined above. To assess how well the airdrop met our goals we will focus on measuring outcomes in three key areas. These are: . Rewarding frequent users | Sybil Resistance - filtering airdrop hunters so that only genuine users are rewarded | Equality of distribution - preventing a small number of whales getting all the tokens | . To examine these outcomes, all Paraswap swap transactions were downloaded from the Ethereum and Polygon tables of Flipside Crypto. Paraswap also operates on the Binance Smart Chain and Avalanche networks, however data for these chains were not available to be used in this analysis. The total number of transactions on each network are shown in the table below. There are over 580k unique wallets and nearly 2.5m transactions. Note the volume of transactions on the Polygon network is an order of magnitude bigger than Ethereum, reflecting the cheaper transaction fees. . Network Users Transactions . 1 Ethereum | 127380.0 | 331008.0 | . 2 Polygon | 465818.0 | 2153474.0 | . 3 Total | 584191.0 | 2484482.0 | . &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;24px&quot;viewBox=&quot;0 0 24 24&quot; width=&quot;24px&quot;&gt; &lt;/svg&gt; Goal 1 - Rewarding Active Users . Active users have skin in the game. They like the product and keep coming back to use it. They have an interest in the protocol succeeding because it will be there to use in the future. We will measure how well the Paraswap airdrop rewards regular users by looking at the percentage of users who received the airdrop against the number of transactions the user has performed. We expect to see groups of users with higher transaction counts be more likely to get an airdrop reward. . The following chart shows the % of users who received the airdrop vs the number of transactions on Paraswap. This data combines both the Ethereum and Polygon transactions. Here we see the expected results - as transaction count rises, so does the likelihood of an airdrop. The orange line is the overall average likelihood of getting an airdrop - very low at just under 3%. . We see that once a threshold of 20 transactions is reached the likelihood improves considerably. Of users with over 100 transactions, 90% received the airdrop. We can also see the threshold value of 6 transactions in the data. Users with less than this had a very low likelihood of getting rewards and must have satisfied the criteria on BSC or Avax chains. . . . The odd shape of the chart above shows the influence of transaction value and of transactions on the other chains. The chart below shows the same data but is restricted to Ethereum only. As Ethereum transactions are likely to be higher in value on average (due to higher fees), users will be more likely to satisfy transaction USD volume requirements than on other chains. Thus we get a better alignment between transaction count and likelihood of receiving an airdrop. . . . Goal 2 - Rewarding Real Users . Noone likes a cheat. They are everywhere in the Web3 world. Whether it&#39;s cheating motivational speakers out of cartoon jpegs, filling up NFT whitelists with multiple accounts, stealing funds in hacks or rugs or gaming an airdrop on behalf of a VC, hardly a day goes by when we don&#39;t see the darker side of human nature. . For an airdrop to be viewed as rewarding genuine users instead of airdrop hunters, we expect to see transaction volume as a determinant in airdrop rewards. In a similar fashion to the transaction count chart, we can measure this by comparing the % of accounts receiving airdrop rewards across the total value of the transactions they performed. There is a chart of this below, only covering transactions on the Ethereum chain. . The overall average percentage of Ethereum users receiving airdrops was 5%, this is the orange line. Users with less than USD5000 in total transaction volume were less likely than average to receive an airdrop. Users with large transaction volumes were more likely to get airdrops. This is the behaviour we expected to see, and it shows that the scheme implemented by the Paraswap team was aligned with our notion of a fair airdrop. . Of interest in this chart is the users who didn&#39;t get the airdrop. Of users with over 1m of transaction volume, 36.5% didn&#39;t receive an airdrop! The Paraswap team described their rules as &quot;harsh&quot; - one can only hope that legitimate users didn&#39;t miss out due to overly zealous filtering. . . . Goal 3 - Egalitarian Distribution . Our third goal in our fair airdrop was to see that rewards were distributed evenly across the airdrop recipients. Even though transaction volume is a factor in determing who is a real user, we don&#39;t want whales to vacuum up a large portion of the rewards. . Measuring inequality is a well developed field in socioeconomic studies. You may have heard of the Gini coefficient, which is often used to measure inequality in income or wealth distributions of populations. The Gini coefficient is a number between 0 and 1 and is based on a Lorenz curve chart. A Lorenze curve plots the cumulative proportion of the population on the x-axis, and the cumulative proportion of the income or wealth of that population proportion on the y-axis. An example is here: . . In the Lorenze curve chart, perfect equality is represented by the diagonal line from (0,0) to (1,1). This line has a Gini coefficient of 0. The further the Lorenz curve is from the diagonal, the worse the distribution equality and the higher the Gini coefficient. . For us to examine the Paraswap airdrop using the Gini coefficient we need to have a comparison. On its own, a Gini coefficient doesn&#39;t tell us much. Data from three other retroactive token airdrops were collected and analysed to compare against Paraswap: . Uniswap UNI token - 400 UNI tokens were distributed to any wallet that had swapped or provided liquidity to Uniswap, even if it was a failed transaction. Over 250k wallets were eligible. On top of this, LPs were airdropped tokens in proportion to the size and length of liquidity provision. | Ribbon Finance RBN token - RBN tokens were distributed to protocol users, Ribbon discord members and to users of other options protocols. Around 1600 wallets were eligible. | Ethereum Name Service ENS token - tokenised responsibility was distributed to wallets which had registered an ENS name. 137k wallets were eligible for the airdrop. | . The chart below shows the Lorenz curve for the Paraswap airdrop, compared with curves for the airdrops mentioned above. As described earlier, perfect equality is the diagonal line. The closer the Lorenz curve for the airdrop to the diagonal, the more equal the distribution of tokens. . Paraswap is the clear winner here. By restricting token reward to one of only three values they have achieved the fairest distribution of the 4 examined. The Uniswap line is instructive - this was the only airdrop to have a component which was a function of transaction volume. This resulted in 32% of the rewards going to 1% of receipients - the kick in the chart in the upper RHS. . . Whilst it is easy to identify Paraswap as the most equal distribution, it&#39;s difficult to see what is next best as the curves cross. This is where coefficients can be helpful to give a numerical assessment of inequality. The Gini coefficient is the most common measure of this, but this can have problems as outlined in a paper by Vitalik. The Gini can be less useful in situations where a small proportion of people have a large amount of a resource, and everyone else has an equal share of the remainder. This is the Distopia B scenario in Vitalik&#39;s paper and describes the Uniswap situation above. . The table below shows the Gini coefficients for the 4 airdrops. Also included is the Thiel L Index, which is suggested by Vitalik to be more robust against Distopia B situations like Uniswap. Also included is the Atkinson Index, a transformed version of the Thiel Index which ranges between 0 and 1. (Thiel index is unbounded above). . The Paraswap index has the lowest index across all three measures, confirming our assessment that this is the airdrop with the least inequality of distribution. We can see in the table the difference in position of Uniswap across Gini and Thiel/Atkinson. It has the 2nd most equal Gini coefficient but the most inequal Thiel/Atkinson index due to the high portion of tokens allocated to a small number of wallets. . Protocol Token Gini Theil Atkinson . 1 Paraswap | PSP | 0.127323 | 0.029257 | 0.014755 | . 2 Uniswap | UNI | 0.324907 | 1.467938 | 0.269249 | . 3 Ethereum Name Service | ENS | 0.402711 | 0.272020 | 0.144508 | . 4 Ribbon Finance | RBN | 0.457500 | 0.375472 | 0.168840 | . &lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; height=&quot;24px&quot;viewBox=&quot;0 0 24 24&quot; width=&quot;24px&quot;&gt; &lt;/svg&gt; Conclusions - Effective or not? . The Paraswap airdrop was a novel approach. With airdrop hunting now a common pursuit, the team took a stand and tried to allocate tokens to users who would support the project into the future, rather than mercenary actors who dump as soon as they claim. They took a potential pool of 1.3m wallets and cut it down to 20,000 using an agressive filtering mechanism. . Our data demonstrated tokens were allocated: . Primarily to regular users | Primarily to genuine users | Relatively equally amongst all recipients | . The Paraswap approach aligned with some common notions of fairness, as well as meeting the goals set out by the team. Based on this, it is reasonable to conclude this was an effective airdrop. . Lessons for future airdrop teams from the Paraswap experience include: . Set clear goals and tune the airdrop parameters to meet them. | Identify who you want your future token holders to be? DAO members? Customers? LPs? Target the airdrop to the groups you want as your owners. | Don&#39;t be afraid to cut hard because it&#39;s a dark forest out there. There is a value asymmetry here - the large majority who perceive the airdrop to be fair will outweigh the unfortunate few genuine users who missed out due to stringent rules. Noone likes to see cheaters &amp; scammers win. | A generous but egalitarian distribution will keep most people happy | .",
            "url": "https://scottincrypto.github.io/analytics/airdrops/paraswap/2021/12/22/Paraswap-Airdrop-Design.html",
            "relUrl": "/airdrops/paraswap/2021/12/22/Paraswap-Airdrop-Design.html",
            "date": " • Dec 22, 2021"
        }
        
    
  
    
        ,"post2": {
            "title": "UST Into the Wormhole",
            "content": "Sending UST into the Wormhole . The Wormhole Bridge went live on the Terra network at the end of September 2021. Wormhole is a cross chain network which allows traffic between blockchains with different consensus mechanisms. This is done in a decentralised manner, avoiding the need for the centralised liquidity pools which power many existing bridges. When the Wormhole bridge connected to Terra, it allowed connectivity between Terra, Solana, Ethereum, Polygon and Binance Smart Chain. This was a huge step forward for a multi-chain world, as Terra and Solana are very different technologies to the other three EVM compatible chains. . Initial use of the Wormhole bridge to &amp; from Terra was light but is steadily increasing. As was outlined in this post, most of the traffic passing over the Wormhole Bridge to &amp; from Terra is UST - the decentralised stablecoin native to Terra. This post will look more deeply at UST being sent from Terra over the Wormhole Bridge. . How much UST is being sent? . The graph below shows the amount of UST sent from the Terra network since the Wormhole Bridge was attached. The graph is a little curious - there is a background rate of a million or so UST per day, puncuated by some very large volume days. This is worth some exploration. . . . Investigating the big sends . The table below shows the top 10 senders of UST over the Wormhole Bridge in the time period of the chart above. Notice the top user has sent over $124m UST in only 12 transactions. The next largest user has sent 84m UST, but over many more transactions. . In investigating user our top wallet, terra..ejx5, we identified a single transaction which was 42m UST in size. View this on finder.terra.money here. . We know this transaction went to Ethereum (recipient chain 2) but the recipient address is obfuscated in the transaction so we can&#39;t easily identify it. By looking for transactions on the Ethereum Wormhole Bridge contract at around the time of this transaction, we found this one: this one. It shows our 42m UST, which is now a Wormhole wrapped version of UST, being claimed at the other end. Further transactions on this wallet identify that the 42m UST was deposited as liquidity into the Shuttle/Wormhole Pool. This Pool on the Ethereum network serves to exchange wrapped UST tokens from the legacy Shuttle bridge for Wormhole wrapped UST ready for use on the new bridge. This pool is described in the Wormhole documentation and is not a for-profit dex pool. Instead, this is part of the infrastructure used to eventually convert from the Shuttle bridge to the Wormhole bridge permanently. . Our conclusion is that our big sending address, terra..ejx5, belongs to the one of the Terra/Wormhole teams and is being used for network operations to stand up the bridge. Since we are looking at usage, it&#39;s worthwhile to exclude this address from any further analysis as it doesn&#39;t represent organic usage of the bridge. . user qty tx_count av_tx_size . 1 terra1dtzfwgzt8xa70zkm8gqzwz0n4zrqtngdpqejx5 | 1.240186e+08 | 12 | 1.033488e+07 | . 2 terra1zhgnqk9gq295qtqqa9j5shmm7lkp9e66m937jr | 8.420261e+06 | 90 | 9.355846e+04 | . 3 terra1nckkt3jx9xna820c4zjfyedz97vel0g6s8sh35 | 6.888655e+06 | 29 | 2.375398e+05 | . 4 terra1qggut0tm799s0sy65cnzdela3yj2rfamd2sssf | 5.000000e+06 | 1 | 5.000000e+06 | . 5 terra1mr8j3d3gc56l97nstl2w5q9p4hehrfr82hy8yu | 4.999970e+06 | 5 | 9.999940e+05 | . 6 terra1cr8gvqj86duhgfpvjs5x237v4wfsf0qykacsjx | 2.123608e+06 | 5 | 4.247216e+05 | . 7 terra1ajz9k7f3wesrvhdyhqgcedh4vxfzlng0aq65g7 | 1.969082e+06 | 20 | 9.845410e+04 | . 8 terra1ejus678gnw9fzxhujvrm8vhv9xykvktk8560cl | 1.730996e+06 | 6 | 2.884993e+05 | . 9 terra18zfccrvysexp8gjwjy72x5xmurxhhftl5ax6f0 | 1.712820e+06 | 6 | 2.854700e+05 | . 10 terra1pvt0wsjs7mk4nq8hzeznce7d782qk6cptksp7z | 1.596270e+06 | 6 | 2.660450e+05 | . How much UST is being sent - revisited . The graph below shows the amount of UST being sent per day from the Terra network via the Wormhole bridge, this time excluding the network operations account we identified earlier. Once the bridge ramped up for the first week, it has settled into a range of 400k -&gt; 7m per day, with a typical day being around 1.5m UST sent to other networks. . . . Where is the UST going? . As mentioned in the intro, the Wormhole bridge connects Terra to 4 other chains - Ethereum, Solana, Polygon and Binance Smart Chain (BSC). The table below shows how much UST has gone to each chain since the bridge began (excluding the network ops account). We can see that most of the UST sent has gone to Solana - 57m UST, around 83% of all the UST traffic. Ethereum is next largest with 8m UST or 12%, and Polygon &amp; BSC having comparatively small amounts. . bridge_chain qty_sent percentage . 1 Solana | 5.788127e+07 | 82.619677 | . 2 Ethereum | 8.294427e+06 | 11.839458 | . 3 Polygon | 2.215865e+06 | 3.162924 | . 4 BSC | 1.665926e+06 | 2.377941 | . The graph below shows the UST sent by destination chain plotted daily, excluding the network ops account. We see a few large transactions dominating BSC, Ethereum and Polygon, but the network traffic over Solana is both larger and more consistent than the EVM chains. It appears that sending UST to Solana is a use case that the market was looking for, and has been met with the Terra-&gt;Solana Wormhole bridge. . . . Estimating User Count . User count is challenging in blockchain environments as people may operate multiple wallets. The fallback for this problem is to use unique wallet addresses, which gives us an upper bound on the number of users. For wallets sending UST via the Wormhole bridge, we get the following profile of unique accounts over time. At the time of publication, just under 2000 unique wallets were recorded sending UST over Wormhole . . . The unique wallet growth rate is consistent but steady, ranging from 1.5% -&gt; 3% daily after some rapid initial growth . . . Transaction Size . The charts below show the average transaction sizes of UST sent to each of the target chains, excluding the network ops address. Each chain has a small number of large transactions which skew the data on those days. Outside of these, we see relatively small values bridged to BSC. This makes sense in the context that BSC has very low transaction fees, and bridging a few hundred UST is still relatively efficient. This contrasts with Ethereum - the lower bound of the average transaction is closer to 2-3000 UST. This shows that users are sensitive to the Ethereum gas fees associated with claiming the tokens on the other side of the bridge which will typically be on the order of 100-200 USD. . Polygon is an outlier when compared with BSC and Ethereum. With low transaction fees, it might be expected that there are small transaction sizes sent to Polygon in line with BSC. Instead we see that the typical day has transaction sizes in the 10-20k UST range. This can be explained by a relatively small number of users doing large transactions, indicating that retail users haven&#39;t discovered this pathway to Polygon just yet. . Solana transaction sizes stand out compared to the other chains. They are more consistent, ranging from 5k UST on a slow day to 30-60k on a bigger day. There are no days with zero or very low transaction size, supporting the higher usage shown above. . . . What&#39;s going on with Solana? . We have seen above that the volume and patterns of UST sent to Solana is different to the three EVM chains (BSC, Ethereum, Polygon). The Solana data is shown in the chart below (excluding network ops wallet). There appears to be a cyclical component to the usage, possibly based on a weekday/weekend cycle. . . . The chart below shows the average volume of UST sent to Solana from Terra by day of the week. The very large day on the 4th of November was excluded as an outlier, as were the network operations transactions. There seems to be an influence based on day of the week - Monday sees transaction volumes of nearly 2m UST, and Saturdays at 0.6m UST as the low point. At face value this doesn&#39;t quite align with a normal work week. The timestamps, however are in UTC. APAC markets are ahead of UTC - Korea, a country known to use the Terra network heavily via the Chai payments network, is UTC+9 hours. The chart below aligns with a timezone such as this, with activity on Sunday night UTC being Monday morning in Asia. We can draw two conclusions from this: . Bridging to Solana is being done for work (or at work) as more transactions occur on weekdays as opposed to weekends | It is likely that this activity is occurring in APAC markets due to the observed timezone offest | . . . Conclusions . The Wormhole Network is a new cross-chain bridge network, linking blockchains with different consensus mechanisms in a decentralised manner. The connection of Wormhole into the Terra network has unleashed another avenue for UST to take over the world. UST is the most commonly sent token sent via the Wormhole bridge from Terra, with typical volumes of 1.5m UST per day being sent. Most of the volume is going to Solana, with only sporadic transaction volume going to the three EVM chains - Ethereum, BSC and Polygon. Unique wallet counts have been growing steadily, at daily rates of 1.5-3%. There are around 2000 unique wallets so far which have sent UST via this bridge. Transaction sizes vary by destination, with some evidence that transaction fees may impact this size. Finally, we saw that UST sent to Solana appeared to show commercial use, potentially in an APAC timezone due to the timing of the transaction volume. . All data was sourced from the curated on-chain data tables at Flipside Crypto .",
            "url": "https://scottincrypto.github.io/analytics/terra/wormhole/2021/12/01/UST-into-the-Wormhole.html",
            "relUrl": "/terra/wormhole/2021/12/01/UST-into-the-Wormhole.html",
            "date": " • Dec 1, 2021"
        }
        
    
  
    
        ,"post3": {
            "title": "A Flight Through a Terra Wormhole",
            "content": "The Wormhole Bridge . The Terra Network, up until recently, has had limited options for blockchain-blockchain transfer of assets. The official Terra Bridge, known as the Shuttle Bridge, has served Terra with bridges to Ethereum, Binance Smart Chain (BSC) and the Harmony blockchains. The Shuttle Bridge is a centralised conduit between chains, with liquidity held by multisig wallets. Terraform Labs put forward the plan to migrate to a decentralised alternative - the Wormhole Network. . The Wormhole Network is a cross chain network which solves the problem of inter-chain communication between blockchains which have different consensus mechanisms. It operates a set of Guardian nodes which perform attestations on the consensus operations of the attached chains. This simple model removes the need to run a consensus protocol on Wormhole - it is simply a network of oracles reporting on what happens on the attached chains. Thus Wormhole is able to manage communications between networks with very different consensus models - in particular, Solana. . The Columbus-5 upgrade to Terra provided the infrastructure for Wormhole to interoperate with the network. This went live in late September 2021 on the Terra Network. In October 2021, the Wormhole V2 network went live, providing a bridge between Terra, Ethereum, BSC and Solana, with Polygon added a few weeks later. We will examine the uptake of this exciting new product. . . Transaction Volume . The data used in this analysis is based on transactions to &amp; from the Terra network using either the Shuttle Bridges (one each for Ethereum, BSC and Harmony) or the Wormhole Bridge (a single contract endpoint for all destinations). The chart below shows the number of transactions across the two bridge networks since the Columbus-5 upgrade on Terra on September 30 2021. . Here we see a large increase in transactions across the Shuttle bridge in the weeks following the Columbus-5 upgrade. This settled down to a steady level of around 3000 per day prior to the Wormhole launch. Wormhole transactions quickly jumped up to 200-300 per day and remained steady there. The additional transactions don&#39;t appear to have had a dramatic impact on the overall number of bridge transactions. . . . If we examine the above data, but plot each bridge as a percentage of the total, we see that the Wormhole bridge traffic is around 6-9% of the total bridge traffic to &amp; from Terra. The prior observations of this being a steady state hold - there doesn&#39;t appear to be any dramatic ramp-up in traffic. . . . User Adoption Rate . Using the same dataset, we can examine the number of unique wallets on each day which interact with the bridges. Whilst people can have multiple wallets, this is the best proxy we have for user adoption. The chart below shows the number of wallets interacting with the bridge on each day. Wormhole appears to be attracting 100-200 users per day, with it appearing to be steadily rising. This doesn&#39;t appear to be having a discernable impact on the number of users on the Shuttle bridge. It&#39;s possible these may be new bridge users - it&#39;s difficult to tell from this dataset but some further data will support this hypothesis. . . . Which Tokens are Transferred on the Bridges? . The Shuttle bridge supports sending &amp; receiving of wrapped Terra assets to the remote bridges. Wormhole extends this functionality and supports sending &amp; receiving of many more assets from other chains. These exist as wrapped versions of the original token on the Terra chain. . It should come as no surprise that the majority of bridge traffic is LUNA and UST - the two keystone assets on the Terra network. UST has the potential to be a major cross-chain decentralisd US dollar stablecoin, and LUNA is the volatile asset which gives users exposure to the success of the Terra Network. The following charts show the types of tokens which are sent &amp; received on the two bridges, broken into groups as follows: . UST | LUNA | Other Terra Assets - Terra native assets like ANC, MIR, and KRT and Mirror assets like mAAPL and mTSLA | Non-Terra Assets - assets from other chains wrapped by Wormhole - whETH, whUSDT, whDOGE etc | . The first chart below shows the number of transactions on the Shuttle Bridge split by the token type from the list above. UST accounts for most of the traffic, demonstrating its utility as a cross-chain stablecoin. A smaller number of transactions are LUNA (remembering that 1 LUNA ~ 50 UST) and an even smaller amount are the other Terra assets. . . . The next chart shows the number of transactions by token type over the Wormhole bridge. The results are similar - most transactions are for UST. We can see the non-Terra assets with a small but consistent usage - there is some demand for new assets on Terra. . . . What are the Destinations? . The two bridges have a different set of linked chains, so we expect to see a difference in the data when we look at the source &amp; destination chains. The Shuttle bridge is only linked to Ethereum, Binance Smart Chain (BSC) and Harmony, whereas Wormole supports Ethereum, BSC, Polygon and Solana. It is expected that Wormhole will expand to support more chains in the future. . The Shuttle bridge shows most of the transactions are to or from the BSC chain. This behaviour can potentially be explained by the high fees associated with bridging to Ethereum in comparison to BSC. Whilst bridge fees themselves are modest, the gas costs for getting on or off at the Ethereum end of the bridge are very high. . . . The chart below shows all of the transactions sent on via the Wormhole bridge with their destination chains. Note that this data does not contain transactions received via Wormhole - the source chain is not visible in the interchain message which comes from the bridge to the Terra network. The data below is surprising - it doesn&#39;t mirror the Shuttle bridge data. We see that the overwhelming majority of transactions sent via Wormhole are to the Solana network. Users of the Shuttle bridge haven&#39;t migrated their bridging activities across to Wormhole - they have a new use case instead. It appears that the Wormhole bridge has immediately serviced an unmet need - transferring assets between Terra and Solana. . A further insight can be drawn from these data - why haven&#39;t users migrated across to the Wormhole bridge from the Shuttle bridge? The fees on the Shuttle bridge are 0.1% of the transfer value (minimum fee 1UST) plus gas fees at either end, whereas the Wormhole fees are currently sub-cent plus gas. Wormhole is the cheaper option. It&#39;s possible that the Shuttle bridge users simply don&#39;t yet know about the newer, cheaper bridge. It may take further marketing or changing of the Shuttle bridge UI to move users to Wormhole. . . . Conclusions . The Wormhole Network is a new cross-chain bridge network, linking blockchains with different consensus mechanisms in a decentralised manner. This network is the successor to the existing Shuttle bridge on the Terra Network. We have seen that the Wormhole Network has seen modest growth in transaction volume since launch, but still only a few hundred per day. It doesn&#39;t appear to have impacted the usage of the Shuttle bridge, which hosts an order of magnitude more transactions. User adoption on Wormhole is slowly rising, but interestingly hasn&#39;t appeared to impact use of the Shuttle bridge. UST is the dominant asset transferred across both bridges, and we have seen a new class of non-Terra assets appear on Terra via the Wormhole Bridge. Finally, we saw that most of the Shuttle bridge traffic was to or from Binance Smart Chain. We expected similar on Wormhole (assume that users would simply migrate), but instead saw that most of the traffic was to Solana, servicing a previously unmet need. We drew the conclusion that users simply don&#39;t yet know about Wormhole, as it is a cheaper option for inter-chain transfers at the moment. . All data was sourced from the curated on-chain data tables at Flipside Crypto .",
            "url": "https://scottincrypto.github.io/analytics/terra/wormhole/2021/11/17/A-Flight-Through-a-Terra-Wormhole.html",
            "relUrl": "/terra/wormhole/2021/11/17/A-Flight-Through-a-Terra-Wormhole.html",
            "date": " • Nov 17, 2021"
        }
        
    
  
    
        ,"post4": {
            "title": "Maple Finance Dune Dashboard",
            "content": "Maple Finance . Maple Finance is an undercollateralised lending protocol for qualified, institutional borrowers. They commissioned the following Dune Dashboard for some of their key metrics: . .",
            "url": "https://scottincrypto.github.io/analytics/dune/maple/2021/10/14/Maple-Finance-Dune-Dashboard.html",
            "relUrl": "/dune/maple/2021/10/14/Maple-Finance-Dune-Dashboard.html",
            "date": " • Oct 14, 2021"
        }
        
    
  
    
        ,"post5": {
            "title": "yveCRV Reward Claims",
            "content": "Yearn yVaults and the yveCRV Vault . Yearn yVaults . Yearn is a DeFi protocol which automates yield farming. Users have tokens which they want to hold - Yearn puts those tokens to work by finding the best yield farming opportunities across DeFi. It does this in a gas efficient way for the user, so even small deposits can get decent returns over time. . Yearn users deposit their tokens into yVaults, and receive a token in return which is proportional to their share of the vault capital. A yVault is a smart contract with one ore more Strategies sitting behind it. The Strategies are the yield-farming recipes which are created by clever humans (Strategists) and monitored &amp; managed by bots (Keepers). The yVault contains logic which automatically allocates the vault deposits to whichever combination of Strategies gives the best return for the users. The rewards from the yield farming accrue into the vault, so the value of the vault token is always increasing. When a user withdraws from the yVault, they get more tokens than they deposited. This additional amount is the yield the vault has earned on their behalf. . Each yVault is structured around a particular underlying token - there are vaults for Eth, USDC, WBTC and many others. Users can deposit in the yVault native token, or they can deposit using any other token &amp; take advantage of Zaps. Zaps are smart contracts which take an input token and swap it for the underlying token in a gas efficient manner. The swap may occur via a number of dexs or dex aggregators, but this is abstracted away for the user. There is a similar feature when withdrawing - the user can withdraw the underlying token from a yVault, or choose to receive their funds in ETH, WBTC, DAI, USDC or USDT. It&#39;s important to know that whatever token the user deposits or withdraws, they maintain price exposure to the underlying token of the vault whilst deposited. . yveCRV yVault . Now the veCRV-DAO yVault (also known as the yveCRV Vault) is a little different to the others. It starts with the CRV token, the governance &amp; reward token from Curve. Curve is a dex which specialises in stableswaps - swaps between tokens which have approximately the same value. Examples are ETH/stETH or swaps between dollar pegged stablecoins. Curve has optimised their swap code to make these swaps efficient from both a liquidity impact and fee perspected - see this post for a further exploration of Curve &amp; stablecoin swaps. . The CRV token has voting rights in the Curve DAO which makes decisions on the Curve protocol - things like fees, LP rewards, swap parameters and pools launched. In some Curve pools, liquidity providers receive CRV tokens to incentivise liquidity in the pools. CRV tokens are also available on the open market. To encourage users to stay as CRV hodlers, there is a facility to lock CRV tokens into the CRV DAO for a fixed period of up to 4 years. Users receive veCRV tokens (voting escrow Curve Tokens) for doing this, and more tokens are received the longer the locking period. veCRV holders can still participate in governance voting, they receive 50% of Curve trading fees and they qualify for boosted rewards (up to 2.5x) when they provide liquidity in Curve. . The fees generated for veCRV holders are collected in the form of 3CRV tokens (shares in the Curve tripool), which can be redeemed for stablecoins if desired. Fee distribution for veCRV holders happens weekly and users need to collect these manually and pay the gas cost for the transactions. . In true Yearn fashion there is a vault &amp; a strategy to maximise the returns from this CRV locking process. This is the yveCRV yVault and it&#39;s different to the other vaults in that you can&#39;t withdraw your tokens. Yearn takes CRV tokens and locks them with the CRV DAO for the maximum 4 year period and continually renews this lock. This maximises the veCRV returns to the yVault. In addition, all Yearn vaults send 10% of earned CRV into this vault for additional boost. The returns to the users are in the form of the 3CRV tokens earned by the veCRV - like the CRV staking contract, these are collectable weekly as an income stream, and must be collected manually. yVault depositors receive yveCRV-DAO tokens as their share in the vault. . Weekly Claiming of 3CRV Tokens . As mentioned above, users must claim the 3CRV rewards from the yveCRV vault manually. This is an on-chain transaction and requires expenditure of gas to do so. This gives two barriers to claiming rewards - users must remember to do it weekly, and they must make a choice as to whether the gas expenditure is worth the claim. It should be noted that pending claims accrue and are not lost - a user can claim less frequently than monthly which would result in less overal gas spent. The chart below shows the number of claim events each week on the yveCRV vault. As we can see from the chart, the number of claims ranges between 18 and 72 (averaging 20-30) per week for the period up to June 2020. Then the average number increases to 40 per month for the next 6 weeks before dropping considerably. This increase, then decrease corresponds with the decrease in yveCRV pricing relative to curve discussed in this post on the impact of yvBoost on yveCRV. It appears that users claimed their rewards, then sold yveCRV on the open market in order to deploy their CRV tokens elsewhere - perhaps to yvBoost where the claim process is automated, or to other sources of yield like Convex. Now it appears there are far fewer holders regularly claiming tokens - only around 10 per week. . . . Rewards Claimed &amp; Unclaimed . As an extension of how many users claim, it&#39;s worth exploring how much of the potential rewards are claimed by users. We mentioned the barriers to claiming earlier - let&#39;s see what sort of impact they have. The chart below shows the percentage of claimed &amp; unclaimed 3CRV in the yvCRV vault. The numbers are the cumulative percentages from the beginning of the vault operation. We see from the chart a that currently only 70% of the rewards available have been claimed. This has been as low as 34% back in April 2021. Yearn saw a clear need to automate the claim process and the yvBoost initiative was the result. The yvBoost vault accepts yveCRV-DAO tokens from yveCRV, and automatically claims the rewards each week on behalf of the users, swapping the 3CRV rewards for more yveCRV-DAO to increase the value locked in the vault. . . . How Much Gas Has Been Spent on Claims? . It was mentioned above that each claim requires an on-chain transaction and expenditure of gas. Over the history of the yveCRV vault, users have spent just over 8 ETH on reward claims, worth over USD 16k when valued with the ETH price at the time of claim. This is a small percentage of the rewards claimed however - around 0.77%. We will look further into the detail of these claims and the gas costs to see whether gas has an impact on the overall returns of certain claims. . Number of Claims Amount Claimed (USD) Gas Spent (USD) Gas Spent (ETH) Percentage Gas Spend . 1 1118 | 2172537.0 | 16660.0 | 8.07 | 0.766845 | . What Portion of Rewards are lost to Gas Costs? . To see if users are making sound decisions when claiming rewards from the yveCRV vault, we will look at how much the gas costs are in relation to the amount claimed. We have simplified the dataset by grouping into a number of categories - firstly, was the amount claimed less than the gas cost, and if not, what percentage of the claim transaction did the gas represent. The results are summarised below - how many transactions were in each category of loss. Here we can see that 200 claims have been made for yveCRV rewards where the claimed amount was less than the gas spent. The user made a negative return from the transaction. Similarly, there were 76 claims where the user lost between 50-100% of the claimed amount to gas costs, and so on for the graph. The largest category appears to be the 1-5% range. This is interesting - users often shop around to find the very best APR for their funds, but are prepared to throw away a significant percentage in transaction costs to get it. . . . The graph below presents the same data as above, but as a cumulative percentage. From this we can deduce: . 18% of claim transactions were negative in value | 25% of claim transactions had a greater than 50% loss | 59% of claim transactions lost more than 5% to gas | Only 17% of transactions had a loss less than 1% | . It appears, on balance, that users are not making sound decisions on reward claims from the yveCRV vault. Users face a choice when claiming smaller rewards. Either: . Take the money now &amp; pay a high portion in fees | Try to claim in a time with lower gas costs | Wait a few more weeks until rewards have accrued to make the gas cost less significant | . It appears from the data that the opportunity cost for users of leaving the rewards unclaimed in yveCRV is greater than having the funds available right away. For the users losing large percentages, or more than the total reward amount, perhaps there is a knowledge gap in the way gas fees work on Ethereum. . . . The following table shows the claims, amount claimed and gas spends for each of the categories above. Most of the value claimed is claimed at less than 1% loss due to gas fees - this is the group of users with large deposits in yveCRV earning large rewards. It&#39;s interesting that the highest gas expenditure overall came from the negative return group, again suggesting a lack of understanding of gas pricing &amp; transaction pricing mechanisms. . Claim Lost to Gas Number of Claims Amount Claimed (USD) Gas Spent (USD) Gas Spent (ETH) . 1 Negative Return | 200 | 566.0 | 3446.0 | 1.80 | . 2 50-100% Loss | 76 | 1727.0 | 1198.0 | 0.54 | . 3 20-50% Loss | 119 | 4791.0 | 1480.0 | 0.78 | . 4 10-20% Loss | 131 | 13409.0 | 1832.0 | 0.81 | . 5 5-10% Loss | 129 | 23938.0 | 1673.0 | 0.87 | . 6 1-5% Loss | 270 | 140589.0 | 3185.0 | 1.58 | . 7 &lt; 1% Loss | 193 | 1987517.0 | 3846.0 | 1.69 | . 8 Total | 1118 | 2172537.0 | 16660.0 | 8.07 | . Conclusions . The yveCRV vault is a special one in the Yearn galaxy - it&#39;s the only yVault that doesn&#39;t support withdrawals so rewards must be claimed manually. We have seen that the claim process is not effective for all users. Only 70% of the historical vault rewards have been claimed. Many users have made claims for rewards with a negative return due to gas costs, and many make claims that lose a large portion of their reward to gas. Thankfully the Yearn team have addressed this with the yvBoost vault, where users get the same underlying exposure to CRV locking but the reward process is automated. Since the launch of yvBoost, we have seen the number of weekly reward claims drop significantly, indicating that users have migrated away from the yveCRV vault by trading their tokens on the open market. . All on-chain data sourced from the curated tables at Flipside Crypto | Pricing data sourced from Coingecko | .",
            "url": "https://scottincrypto.github.io/analytics/curve/yearn/2021/09/29/yveCRV_Rewards_Claims.html",
            "relUrl": "/curve/yearn/2021/09/29/yveCRV_Rewards_Claims.html",
            "date": " • Sep 29, 2021"
        }
        
    
  
    
        ,"post6": {
            "title": "yvBoost & yveCRV Vaults",
            "content": "Yearn yVaults, yveCRV-DAO and yvBOOST . Yearn yVaults . Yearn is a DeFi protocol which automates yield farming. Users have tokens which they want to hold - Yearn puts those tokens to work by finding the best yield farming opportunities across DeFi. It does this in a gas efficient way for the user, so even small deposits can get decent returns over time. . Yearn users deposit their tokens into yVaults, and receive a token in return which is proportional to their share of the vault capital. A yVault is a smart contract with one ore more Strategies sitting behind it. The Strategies are the yield-farming recipes which are created by clever humans (Strategists) and monitored &amp; managed by bots (Keepers). The yVault contains logic which automatically allocates the vault deposits to whichever combination of Strategies gives the best return for the users. The rewards from the yield farming accrue into the vault, so the value of the vault token is always increasing. When a user withdraws from the yVault, they get more tokens than they deposited. This additional amount is the yield the vault has earned on their behalf. . Each yVault is structured around a particular underlying token - there are vaults for Eth, USDC, WBTC and many others. Users can deposit in the yVault native token, or they can deposit using any other token &amp; take advantage of Zaps. Zaps are smart contracts which take an input token and swap it for the underlying token in a gas efficient manner. The swap may occur via a number of dexs or dex aggregators, but this is abstracted away for the user. There is a similar feature when withdrawing - the user can withdraw the underlying token from a yVault, or choose to receive their funds in ETH, WBTC, DAI, USDC or USDT. It&#39;s important to know that whatever token the user deposits or withdraws, they maintain price exposure to the underlying token of the vault whilst deposited. . yveCRV yVault . Now the veCRV-DAO yVault (also known as the yveCRV Vault) is a little different to the others. It starts with the CRV token, the governance &amp; reward token from Curve. Curve is a dex which specialises in stableswaps - swaps between tokens which have approximately the same value. Examples are ETH/stETH or swaps between dollar pegged stablecoins. Curve has optimised their swap code to make these swaps efficient from both a liquidity impact and fee perspected - see this post for a further exploration of Curve &amp; stablecoin swaps. . The CRV token has voting rights in the Curve DAO which makes decisions on the Curve protocol - things like fees, LP rewards, swap parameters and pools launched. In some Curve pools, liquidity providers receive CRV tokens to incentivise liquidity in the pools. CRV tokens are also available on the open market. To encourage users to stay as CRV hodlers, there is a facility to lock CRV tokens into the CRV DAO for a fixed period of up to 4 years. Users receive veCRV tokens (voting escrow Curve Tokens) for doing this, and more tokens are received the longer the locking period. veCRV holders can still participate in governance voting, they receive 50% of Curve trading fees and they qualify for boosted rewards (up to 2.5x) when they provide liquidity in Curve. . The fees generated for veCRV holders are collected in the form of 3CRV tokens (shares in the Curve tripool), which can be redeemed for stablecoins if desired. Fee distribution for veCRV holders happens weekly and users need to collect these manually and pay the gas cost for the transactions. . In true Yearn fashion there is a vault &amp; a strategy to maximise the returns from this CRV locking process. This is the yveCRV yVault and it&#39;s different to the other vaults in that you can&#39;t withdraw your tokens. Yearn takes CRV tokens and locks them with the CRV DAO for the maximum 4 year period and continually renews this lock. This maximises the veCRV returns to the yVault. In addition, all Yearn vaults send 10% of earned CRV into this vault for additional boost. The returns to the users are in the form of the 3CRV tokens earned by the veCRV - like the CRV staking contract, these are collectable weekly as an income stream, and must be collected manually. yVault depositors receive yveCRV-DAO tokens as their share in the vault. . yvBoost yVault . Finally we get to the yvBoost yVault. This vault builds on the yveCRV yVault, but automates the process of collecting the weekly rewards. The Strategy behind this vault collects the 3CRV rewards each week, swaps them for more yveCRV then deposits them back into the vault. The yvBoost vault is a standard Yearn yVault - you can withdraw part or all of your outstanding deposit and any accrued gains at any time. Working in the native tokens of the yVault, users can deposit or withdraw yveCRV-DAO tokens. Alternatively, users can take advantage of the Zap function and deposit pretty much any ERC-20 token into the vault. They can also withdraw using Zap and collect WETH, WBTC, DAI, USDT or USDC. As the Zap conversions occur on the way in and out, the user maintains price exposure to the yveCRV-DAO tokens whilst deposited in the vault. . The yveCRV yVault launched 4-5 months before the yvBoost yVault. We will examine what impact the launch of the yvBoost yVault had on the usage of the yveCRV yVault. . yVault Usage - Total Value Locked in USD . If we are to understand the impact of the yvBoost vault on the usage of the yveCRV vault, first we must define what we mean by usage. For a Yearn vault, this is best defined by the Total Value Locked (TVL). This is the sum of the value of the tokens deposited and withdrawn from the vault by users. For the yveCRV vault this is simple - as there are no withdrawals, we just need to sum the deposits. For the yvBoost vault, we need to add the deposits &amp; subtract the withdrawal transactions. We need a common baseline for comparing TVLs, as: . yveCRV deposits are denominated in CRV | yvBoost deposits are denominated in yveCRV-DAO | . Let&#39;s have a look at the TVL denominated in USD over time for these two vaults, shown in the graph below. There isn&#39;t too much to discern from this - the value of both vaults declined post May 2021. For the yvBoost vault, this may have been due to withdrawals being higher than deposits, or it could be due to the USD value of yveCRV-DAO tokens dropping. Same with the yveCRV graph - we know that there are no withdrawals, but were the rises due to price or deposits? It seems we need an alternative approach. . . . yVault Usage - Total Value Locked in CRV Tokens . When users deposit CRV into the yveCRV vault, they receive 1 yveCRV-DAO token for each CRV deposited. Given that yveCRV-DAO tokens are then deposited into the yvBoost vault, it makes sense to look at the TVL of these two vaults denominated in CRV. The graph below shows the TVL of the two vaults in equivalent CRV tokens. Now we can see the underlying usage of the vaults independent of the USD price volatility. We saw rapid growth of the yveCRV vault to March 2021, then it levelled off considerably. The launch of yvBoost in April saw rapid takeup of this vault, with the TVL approaching that of the yveCRV vault within 6-7 weeks. At the same time, the yveCRV vault TVL also rose rapidly. This growth in yveCRV was driven by the yvBoost growth because yvBoost requires yveCRV-DAO tokens to deposit. These are obtained either by depositing CRV into yveCRV and minting new tokens, or by purchasing them on the secondary market. The yvBoost vault makes the choice based on what is best value at the time - we will examine the relative pricing a bit later. . . . The graph below shows the same data as above, but looks at the net token growth over time rather than the TVL of each vault. Here we see more clearly the impact of yvBoost on the growth of yveCRV. yveCRV grew steadily from Jan-Mar 2021, then growth dropped to almost zero for a month or so. The growth kicked off again once yvBoost launched, and slowed in line with the slowing in yvBoost growth at the end of June. . . . Impact of Pricing . We saw above that yveCRV-DAO tokens were created in the yvCRV vault for use in yvBoost in the period from April-June 2021. The chart below looks at the relative price of yveCRV tokens to CRV tokens. Remember that you can have a one-way transaction and convert CRV to yveCRV. In doing so you give up the ability to get your CRV back, but gain a perpetual share of the revenue of the vault in return. The relative price chart below shows what market participants are valuing this loss of flexibility and future income stream at. In the period from Feb-June, yveCRV traded at an average of 90% of CRV, roughly a 10% discount. This dropped to 75% from June to August, then fell dramatically to below 40% in September. This means that the market is valuing the flexibility of the unencumbered CRV tokens over the income stream by a factor of nearly 3! With yveCRV trading at this much of a discount, it is not surprising that there had been very low growth in the yveCRV since July 2020. Any required yveCRV tokens (for depositing in yvBoost) can be purchased on the open market at a steep discount to the underlying CRV tokens. . It&#39;s unclear what is driving this pricing mismatch - perhaps the competition for CRV token locking with Convex is causing people to exit their yveCRV positions in search of better yields elsewhere. . . . Vault Return on Investment . The pricing above is curious - why is yveCRV valued at such a steep discount to CRV? We will see if there is any impact from the Return on Investment of the vaults in question. . Vault ROI for a normal Yearn yVault is calculated from the price of the yToken relative to the underlying deposited token. Each Vault has an exchange rate built into it - deposit 1 token, get a bit less than one yvtoken in return. Over time, 1 deposit token will buy less and less yvtokens - the price is always rising. For a given investment, the ROI is determined by the following formula, where the Buy &amp; Sell prices are the number of native tokens required to buy the yvtokens: . . The approach used by the Yearn team on the https://yearn.finance page is to annualise this ROI based on a 7 day rolling period. We have applied this approach to the yvBoost vault. . The ROI calculations for the yveCRV vault is a little simpler - each week there is a deposit of 3CRV tokens into the vault which are the income stream generated from the locked CRV tokens. We take the value of the deposited 3CRV tokens over the value of the CRV tokens in the vault over each 7 day period and annualise it to get the vault ROI. Note, this assumes that users withdraw their returns from the vault. . The ROI of the two vaults are shown in the chart below. We can see that the yvBoost vault tracks the return of the yveCRV vault, with a slight discount on average. It&#39;s not clear whether there is any impact on yveCRV/yvBoost usage due to ROI as they track each other fairly reliably. What we do see, however, is an impact on ROI of the yveCRV:CRV pricing ratio above. We can see the yvBoost ROI flippen the yveCRV ROI in late August - this is a direct result of the steep discount of yveCRV relative to CRV. The underlying income of the yvBoost vault is driven by the number of CRV tokens locked, but the value of the vault has fallen due to the drop in yveCRV price relative to CRV. This increases the vault ROI dramatically, amplified by the fact that the underlying 3CRV earnings of the vault are swapped into more yveCRV at a discount. This apparent pricing mismatch is an excellent opportunity to get some great returns from the yvBoost vault. . . . Conclusions . We attempted to answer the question of whether there was an impact on the usage of the yveCRV vault from the introduction of the yvBoost vault - a more improved &amp; automated version of yveCRV. We saw that the usage of yveCRV had already dropped prior to the introduction of yvBoost, so there was no opportunity for yveCRV usage to fall much further. The launch of yvBoost, however, generated an upswing of deposits to the yveCRV vault, as yveCRV-DAO tokens were required to deposit into the yvBoost vault. The relative pricing of yveCRV-DAO to CRV meant that minting fresh yveCRV-DAO tokens was the best way to enter yvBoost. Since the initial 6 week upswing of yvBoost, we have seen the growth of both vaults level out with yvBoost declining a little. A surprising observation was the steep drop in value of yveCRV-DAO relative to CRV - it&#39;s clear that people want out of their locked CRV positions and are prepared to take a big haircut to do so. . All on-chain data sourced from the curated tables at Flipside Crypto | Pricing data sourced from Coingecko | .",
            "url": "https://scottincrypto.github.io/analytics/curve/yearn/2021/09/29/yvBoost-and-yveCRV-Vaults.html",
            "relUrl": "/curve/yearn/2021/09/29/yvBoost-and-yveCRV-Vaults.html",
            "date": " • Sep 29, 2021"
        }
        
    
  
    
        ,"post7": {
            "title": "Zapping in & Zapping Out",
            "content": "Yearn yVaults, yveCRV-DAO and yvBOOST . Yearn yVaults . Yearn is a DeFi protocol which automates yield farming. Users have tokens which they want to hold - Yearn puts those tokens to work by finding the best yield farming opportunities across DeFi. It does this in a gas efficient way for the user, so even small deposits can get decent returns over time. . Yearn users deposit their tokens into yVaults, and receive a token in return which is proportional to their share of the vault capital. A yVault is a smart contract with one ore more Strategies sitting behind it. The Strategies are the yield-farming recipes which are created by clever humans (Strategists) and monitored &amp; managed by bots (Keepers). The yVault contains logic which automatically allocates the vault deposits to whichever combination of Strategies gives the best return for the users. The rewards from the yield farming accrue into the vault, so the value of the vault token is always increasing. When a user withdraws from the yVault, they get more tokens than they deposited. This additional amount is the yield the vault has earned on their behalf. . Each yVault is structured around a particular underlying token - there are vaults for Eth, USDC, WBTC and many others. Users can deposit in the yVault native token, or they can deposit using any other token &amp; take advantage of Zaps. Zaps are smart contracts which take an input token and swap it for the underlying token in a gas efficient manner. The swap may occur via a number of dexs or dex aggregators, but this is abstracted away for the user. There is a similar feature when withdrawing - the user can withdraw the underlying token from a yVault, or choose to receive their funds in ETH, WBTC, DAI, USDC or USDT. It&#39;s important to know that whatever token the user deposits or withdraws, they maintain price exposure to the underlying token of the vault whilst deposited. Fun fact - Zaps aren&#39;t just used by Yearn - they are the tech which underpins the swap &amp; deposit functions on Zapper, and are used by other protocols like Pickle Finance . veCRV-DAO yVault . Now the veCRV-DAO yVault is a little different to the others. It starts with the CRV token, the governance &amp; reward token from Curve. Curve is a dex which specialises in stableswaps - swaps between tokens which have approximately the same value. Examples are ETH/stETH or swaps between dollar pegged stablecoins. Curve has optimised their swap code to make these swaps efficient from both a liquidity impact and fee perspected - see this post for a further exploration of Curve &amp; stablecoin swaps. . The CRV token has voting rights in the Curve DAO which makes decisions on the Curve protocol - things like fees, LP rewards, swap parameters and pools launched. In some Curve pools, liquidity providers receive CRV tokens to incentivise liquidity in the pools. CRV tokens are also available on the open market. To encourage users to stay as CRV hodlers, there is a facility to lock CRV tokens into the CRV DAO for a fixed period of up to 4 years. Users receive veCRV tokens (voting escrow Curve Tokens) for doing this, and more tokens are received the longer the locking period. veCRV holders can still participate in governance voting, they receive 50% of Curve trading fees and they qualify for boosted rewards (up to 2.5x) when they provide liquidity in Curve. . The fees generated for veCRV holders are collected in the form of 3CRV tokens (shares in the Curve tripool, which can be redeemed for stablecoins if desired. Fee distribution for veCRV holders happens weekly and users need to collect these manually and pay the gas cost for the transactions. . In true Yearn fashion there is a vault &amp; a strategy to maximise the returns from this CRV locking process. This is the veCRV-DAO yVault and it&#39;s different to the other vaults in that you can&#39;t withdraw your tokens. Yearn takes CRV tokens and locks them with the CRV DAO for the maximum 4 year period and continually renews this lock. This maximises the veCRV returns to the yVault. In addition, all Yearn vaults send 10% of earned CRV into this vault for additional boost. The returns to the users are in the form of the 3CRV tokens earned by the veCRV - like the CRV staking contract, these are collectable weekly as an income stream, and must be collected manually. yVault depositors receive yveCRV-DAO tokens as their share in the vault. . yvBoost . Finally we get to the yvBoost yVault. This vault builds on the veCRV-DAO yVault, but automates the process of collecting the weekly rewards. The Strategy behind this vault collects the 3CRV rewards each week, swaps them for more yveCRV then deposits them back into the vault. The yvBoost vault is a standard Yearn yVault - you can withdraw part or all of your outstanding deposit and any accrued gains at any time. Working in the native tokens of the yVault, users can deposit or withdraw yveCRV-DAO tokens. Alternatively, users can take advantage of the Zap function and deposit pretty much any ERC-20 token into the vault. They can also withdraw using Zap and collect WETH, WBTC, DAI, USDT or USDC. As the Zap conversions occur on the way in and out, the user maintains price exposure to the yveCRV-DAO tokens whilst deposited in the vault. This post will look at what assets users choose to deposit and withdraw with in the yvBoost yVault, paying particular attention to what happens when they choose to Zap tokens other than yveCRV-DAO into or out of the vault. . Deposits, Withdrawals &amp; Zaps for yvBoost . There are many ways in &amp; out of Yearn yVaults. Users can deposit or withdraw from the interface on the https://yearn.finance, using yveCRV or other tokens with Zaps. Users can also deposit via Pickle Finance, or via any number of other 3rd party interfaces, or even by directly interacting with contracts themselves. We saw 244 different contract calls which deposited or withdrew from the yvBoost vault. This post will only look at transactions from: . The standard deposit and withdraw function calls in the yvBoost yVault | Zapin deposits, via the yVault_ZapIn_V4 and yVault_ZapIn_V3 contracts | Zapout withdrawals, via the yVault_ZapOut_V3_0_1 and yVault_ZapOut_V2 contracts | . At a high level, it&#39;s useful to understand how much of the yvBoost yVault deposit &amp; withdrawal actions are happening via the native functions (using yveCRV-DAO) or via Zaps (using different tokens). The graph below shows this. The overwhelming majority of transactions occur using yveCRV-DAO tokens via the native Deposit &amp; Withdrawal functions: . . . Zooming in on the Zaps . The following diagram shows the Zap In &amp; Out transactions to &amp; from the yvBoost yVault. We can see, as we did in the graph above, that Zap In transactions outweigh Zap Out transactions by a factor of 4. This makes sense - the vault has a significant TVL ($11m USD at the time of this post) and so people deposit more than they withdraw. Remember for the Zap in side, we can deposit ETH or any ERC-20 token, and the Zap will convert it to yveCRV-DAO and deposit in the vault. We can see stablecoins are well represented (BUSD, USDC, DAI, TUSD), and ETH/WETH as well. CRV is the other significant volatile asset. On the exit side, where we are limited to withdrawing only 5 types of token, ETH/WETH is by far the largest. We will have a closer look at the makeup of Zap in &amp; out transaction in the next section. . . . Zap In Transactions - Which Tokens? . The following graph shows all the Zap in tokens in more detail. In the previous graph, the long tail was rolled up to &quot;other&quot; for easier viewing. As we saw in the network diagram above, dollar pegged stablecoins are most popular with WETH/ETH the 2nd largest category outright. An array of less popular stablecoins and defi tokens make up the long tail. Notice the odd coin out? Somehow a user has managed to deposit yveCRV-DAO via a Zap transaction. . . . Zap Out Transactions - Which Tokens? . The following graph shows all the Zap out tokens in more detail. ETH/WETH withdrawals are by far the most common, with the 3 stablecoins following up. Only a very small amount is withdrawn as WBTC using Zaps. Again, we also see a withdrawal transaction in yveCRV-DAO via Zap - a curious outlier. . Zap In over Time . Next we see what users Zap into the yvBoost over time. The graph below looks at the Zap In transactions, with the categories grouped up to aid with interpretation. All of the USD pegged stablecoins are labelled as such, and the long tail of DeFi tokens are labelled as &quot;other&quot;. We can see a large influx into the yvBoost yVault in May 2021. There may be a couple of reasons for this - firstly, the yvBoost yVault was launched and may have attracted some early attention, and secondly, this was the time when crypto prices crashed across the board. This may have driven the large deposits of stablecoins in mid-May, as users looked for safe haven yields when volatile asset values were diving. Zap In deposits droppped to near zero from mid-June through to September, when a pickup of activity occurred. . . . Zap Out over Time . The corresponding chart for Zap Out transactions is below, with the same groupings of stablecoins shown. Aside from one large week of withdrawals at the end of April, Zap Out withdrawals were very quiet until June 2021. Withdrawals have been steadily trending down since that time. . . . Conclusions . We have taken a journey into the inner workings of the yvBoost vault, which has showed us how CRV tokens get locked in the Curve DAO contract, and how the yveCRV-DAO vault maximises the return from this strategy. The yvBoost yVault automates this to make it a truly set &amp; forget yield solution for the user. We then saw how users deposited &amp; withdrew from the yvBoost vault, and drilled into what tokens they used when they weren&#39;t working in yveCRV tokens. The Zap transactions were mainly stablecoins on the way in, and ETH/WETH on the way out. . All data was sourced from the curated on-chain data tables at Flipside Crypto .",
            "url": "https://scottincrypto.github.io/analytics/curve/yearn/2021/09/25/Zapping-In-&-Zapping-Out.html",
            "relUrl": "/curve/yearn/2021/09/25/Zapping-In-&-Zapping-Out.html",
            "date": " • Sep 25, 2021"
        }
        
    
  
    
        ,"post8": {
            "title": "Stableswap Shoot-out",
            "content": "Stablecoin Swaps . Stablecoins arguably form the basis for decentralised finance on Ethereum. Whether it&#39;s borrowing, lending, liquidity provision or yield farming, there are almost always stablecoins in the middle of it. The stablecoins we are referring to here are the 3 big USD pegged stablecoins - USDC, USDT and DAI. Defi is full of decentralised token exchanges - dex - which exchange one token for another. A specialised use case of the dex is stablecoin swaps - exchanging between USDC, USDT and DAI either to get the right token for the job users need to do, or to arbitrage between 3 assets that should be worth USD 1 each but often are not exactly. As the value of each of these coins is close to equal, a number of optimisations to the traditional AMM dex model have evolved for stablecoin swaps. The intent of this post is to look at the efficiency of these alternatives &amp; see which one gives the best results for users. . Stableswap Efficiency . Firstly we should define what we mean by efficiency of a stablecoin swap. Let&#39;s imagine a magical world where USDC, USDC and DAI are worth exacly 1 USD each. Right now, it&#39;s really close to that, but certain parties assign different risk discounts to each coin and it is not always the case. We will make the assumption that these coins are equivalent in underlying value as the arbitrage trade is enormous and relatively efficient. A perfect stablecoins swap should therefore be receiving tokens at a 1:1 ratio. It is almost always less than this, due to four areas of loss for the user: . Swap fees - a dex will generate revenue by taking a percentage of each swap. It is a competitive market for stableswaps, and these fees are often very low - 0.05% for Uniswap v3 and 0.03% for Curve on stablecoin swaps. | Price Impact - The quoted price on a dex is the price for the next token swapped, regardless of the size of the trade. Dex type exchanges rely on a pool of liquidity for each token in the swap, with the actual swap price being a function of the ratio of the tokens in the pool after the swap occurs. If the swap is a significant portion of the pool liquidity it can move the realised price that the user receives. This can be mitigated by the design of the AMM, particularly with stablecoin swaps where the swap range between tokens is very narrow. This is a key component of our analysis here - dex protocols don&#39;t just compete on fees, they also compete on the swap curve design. A number of our target protocols have optimised the swap curve to minimise price impact on swaps. | Slippage - a blockchain is a dynamic environment, being used by potentially millions of users at any one time. Slippage occurs when the quoted price of a swap changes due to the action of other simultaneous market participants. A user can submit a swap at a given price, but if a large transaction occurs at around the same time, the user may receive more or less than expected because of this transaction. This is known as slippage, and most dex UIs include a limit on slippage tolerance for the user. If the slippage is more than the tolerance, the transaction will fail. | Blockchain Transaction Fees - the Ethereum network uses the ETH token to pay for blockspace in the blockchain, and this payment is called gas. Blockspace is a limited resource and there is a free market for inclusion. Prices are high during times of congestion and lower at other times. Gas prices form a significant portion of dex impact for users, particularly with lower value swaps. | . The focus of this post is the user - what does the user get in a stablecoins swap, compared with the 1:1 ideal situation? . Dex Models . Before we begin, an outline of each dex model is in order: . Uniswap V2 - Constant Product AMM . Uniswap launched as the OG Automated Market Maker dex, based on a Reddit post by Vitalik in 2016. It uses the constant product model - x * y = k, where the price of a token in a dex pool is equal to the ratio of that token to the other token in the pool. Uniswap was hugely successful with this model, spawning many imitators. . Curve - Optimised Swap Curves for Stableswaps . Constant product dex markets are subject to price impact and slippage. They are optimised for swapping between a large number of tokens, rather than efficient swaps between a small number. Michael Egorov, the founder of Curve, recognised this and founded Curve, with a swap curve more efficient than the constant product model for swaps of tokens of a similar value. It was enormously successful and has attracted over USD 12b of liquidity. Curve has the Tripool - an AMM pool for USDC, USDT and DAI with over USD 2b of liquidity alone. . Uniswap V3 - Targeted Liquidity . In the constant product AMM model, the liquidity is spread over all prices for both tokens. For pegged stablecoins, where the price of each coin is well within 1% of the price of the other coins, this means that much of the liquidity is never utilised. Uniswap launched V3 of their protocol, allowing users to target their liquidity around specified price points. This had a major impact on the capital efficiency of stablecoin swap pools and helped to close the market gap to Curve. . Balancer . Balancer uses a single vault model, where users interact with a single contract for all swaps. The swap logic is abstracted away to underlying pools so that the user only pays gas fees on the vault transactions. The underlying pools implement optimised swap curves for the target tokens, giving users advantages in swap efficiency and gas usage. . Saddle . Imitation is the sincerest form of flattery. Saddle launched to outcries of copyright infringement with their Curve inspired stableswap AMM. Let&#39;s see how it stacks up. . Judging the Stableswap Options . To analyse which is the best option for users when swapping stablecoins, we collected on-chain data from Flipside Crypto. This data looked at swaps between the three major pegged stablecoins (USDC, DAI, USDT) on the five platforms described above (Curve, Uniswap V2 &amp; V3, Balancer, Saddle). Sushi was excluded from the analysis as it carries very low liquidity in stable-stable pair pools - it appears most stableswaps are done via intermediate tokens like ETH. Data was sourced which met the following criteria: . Swaps occured during the last 2 months (to 2021-09-17) | Swaps weren&#39;t done via aggregators like 1inch or Paraswap - direct with the protocol only | Swaps weren&#39;t routed between intermediate pairs - they were direct in &amp; out of the stablecoin pools | Transactions with zero gas fees were excluded - services like Flashbots allow advanced users to substitute gas costs with direct payments to block miners. | . The analysis centered on the return to the users - for every token swapped in a stablecoin swap, how much was lost in the transaction. Assuming that each of our stablecoins is equivalent in value (1 USD), this was calculated by dividing the received token amount by the submitted token amount. This was done in two ways: . Excluding gas costs - looking at swap fees, price impact &amp; slippage only. This give insight into the underlying design &amp; liquidity of the swap protocol. | Including gas costs - the net outcome for the user. The only thing that really matters. | . Note on Balancer - Balancer swaps can include a rebate in BAL tokens for user gas costs. These have not been considered in this analysis, because they have been interpreted as a usage incentive which may not persist, rather than as an underlying part of the protocol. . Overall Performance Across all Stableswap Pairs . The first analysis makes the assumption that USDC, DAI and USDC are equivalent in value, so we don&#39;t differentiate between swap pairs (yet). For all the transactions which meet the criteria in the paragraph above, we look at the transaction cost to the user. This transaction cost, expressed as a percentage, is the amount lost compared to the ideal 1:1 swap from a perfect exchange. More formally, it is: . . For example, if the user puts in 100 USDC and receives 99 DAI, then the transaction cost % would be 1%. Lower is better. . Excluding Gas . The chart below shows the transaction cost % across all pairs over the last 2 months, excluding the impacts of gas. As we can see, Curve is the most cost efficient dex, with an average transaction cost impact of under .04%. Curve charges 0.03% as a protocol fee on the Tripool, so there is around 0.01% of slippage &amp; price impact on stablecoin trades on Curve. Compare this to Uniswap v3, which has 0.05% fees. The Uniswap v3 overall cost impact is less than the fees, indicating that there may be some positive slippage &amp; price impact for users on the platform. Here we also see the benefits of optimising for stablecoin swaps over a generall AMM model. The Uniswap V2 platform - built for swapping many different tokens over all price ranges - is an order of magnitude more costly than the optimised stableswap dex environments. . . . Including Gas . It&#39;s no secret that gas costs have been prohibitive on Ethereum over the past 2 months. The NFT boom has driven up competition for blockspace and gas levels have been consistently high, as well as suffering from extraordinary short term spikes. When we factor this into the analysis the results are as below. Curve is still the most efficient dex overall, with an average impact of 0.045%. Uniswap v3 is next, then there is daylight to the others. As gas costs in a transaction are a fixed amount the impact of gas will depend on the swap size. There is probably a swap size influence on these numbers below - this will be investigated further. . . . Performance by Swap Size . The charts below show how much volume is swapped on the exchanges in different swap size classes. We can see that for swap sizes below USD 100k, Uniswap has the most volume across both v2 and v3. For swap sizes between 100k and 1m, Curve and Uniswap v3 dominate. Above 1m, Curve is the clear choice for stablecoin swaps. We can conclude that for small swaps, users favour the popularity &amp; ease of use of the Uniswap platform, but for serious sized swaps there is a greater sophistication and a desire to get the best deal possible. We also see that Balancer &amp; Saddle have insignificant swap amounts compared with the others. It&#39;s worth reinforcing that the swaps investigated here are only those done directly via the protocols - much of the volume routed through Balancer &amp; Saddle are likely coming from aggregators and other protocols. . . . Excluding Gas Costs . The graph below shows the transaction costs, excluding gas, segmented by swap size. The charts are relatively consistent, with Curve being the best performer across all classes. An interesting trend is the increase in costs in Uniswap v2 as the swap size increases. This is due to price impacts in the pool - the larger swaps are a big enough proportion of the total pool liquidity to impact the price. . . . Including Gas Costs . Now we see the real outcome for the user, with gas costs included. The charts below show the total transaction cost, including gas, across the different swap size cohorts. Please note the scales are now different on each chart to allow better comparison. We see that for smaller swap sizes (&lt; 10k), the gas efficiency of Uniswap v3 makes this the cheapest option for users. There is a significant margin in this advantage for very small swaps (&lt; 1k). As swap sizes increase, however, the underlying protocol and liquidity advantage of Curve washes away the gas costs and we see Curve as the best performing dex for swap sizes larger than USD 10k . . . Return by Swap Pair . To confirm the conclusions above, we will look to see if there is any influence on transaction costs based on the swap pair. The chart below shows the volume of swaps by swap pair. There is a difference in volume between the most popular and least popular swap directions of around 3x - we will see if this influences the transaction cost outcomes. . . . Transaction Cost by Swap Pair . The charts below shows the transaction costs, including gas, split by the swap pairs. The trend is relatively consistent across all pairs, and conistent with the overall conclusions we have made. Curve is the best performing dex across the board, followed by Uniswap v3. An interesting feature of these charts are the DAI-USDT and DAI-USDC performance of Curve - the transaction costs are much lower than the average, probably due to favourable price impact in the swaps. For the DAI-USDC swap direction there is a negative cost for the user - the user receives more USDC than the DAI swapped in. . . . Conclusions . In attempting to do a fair comparison between stablecoin swap platforms, we examined nearly $3b of transactions over a 2 month period, looking at swaps done directly with these swap platforms. We found the following: . Curve is, on aggregate, the cheapest place to swap the big 3 stablecoins. | For smaller transactions (&lt; 10k USD), Uniswap v3 appears to be cheaper due to gas cost efficiency | For larger transactions than 10k, Curve is the clear winner | There is a big advantage in transaction costs using a specialised stablecoin swap platform, as opposed a general purpose dex like Uniswap v2 | Simply copying an existing concept is not a recipe for instant success for Saddle - the weight of liquidity in Curve translates to better outcomes for users, which begets even more liquidity and cheaper costs | . If you are a user looking to swap stablecoins (USDC, USDT, DAI), then Curve should be the first choice. It&#39;s worth a comparison with Uniswap v3, however, as it may be slightly more gas efficient on smaller trades. Happy swapping. . References: . All data was sourced from the curated on-chain data tables at Flipside Crypto | Insights on dex pricing impacts were from this article by Hasu at https://research.paradigm.xyz/amm-price-impact | The idea for this post was inspired by this article at the fantastic Curve Market Cap https://curve.substack.com/p/august-18-2021-curve-vs-balancer | .",
            "url": "https://scottincrypto.github.io/analytics/curve/2021/09/19/Curve_Stableswaps.html",
            "relUrl": "/curve/2021/09/19/Curve_Stableswaps.html",
            "date": " • Sep 19, 2021"
        }
        
    
  
    
        ,"post9": {
            "title": "Polygon Bridging Behaviour",
            "content": "Introduction . This post seeks to answer the following questions: . Where do people go when they bridge to Polygon from Ethereum? What are the 10 most popular first destinations for Polygon addresses that have just bridged from Ethereum? What has this been for each day in the past month? . Polygon operates as a sidechain to Ethereum, with funds moved to &amp; from Polygon via a series of bridges. These bridges accept tokens on the Ethereum side, then create wrapped versions of the same tokens on the Polygon side. Users are attracted to Polygon by the low fees &amp; fast transactions speeds relative to Ethereum. In the absence of fiat onramps, bridges are the only way into the ecosystem. There are a number of bridges in operation by different operators, but this analysis will focus on the official Polygon bridge provided by the protocol. . About the Data . This dataset looks at all of the transactions coming into Polygon via the Polygon Bridge over the last month. It then looks at the next transaction each wallet undertook in the currency that was bridged in, and classifies the destination of that transaction. In examining the data, a couple of observations were noted: . Often the first transaction was a very small swap for MATIC - the token used for gas on Polygon | Most of the coins bridged were either USDC, USDT, WBTC or WETH. Only 3% were other coins, and there was a very long list of these other coins. | . To simplify the analysis, we excluded any next transaction with a value of less than USD 10, and looked at the transaction after this instead. This lets us see the intent of the user more than looking at their initial MATIC swap transaction instead. We also limited our analysis to the 4 major coins above - this accounts for 97% of the funds bridged (as per the table below) and allowed us to simplify the charts for better insights. . All data was sourced from Flipside Crypto . Bridged Token USD Amount Percentage . 1 USDC | 4.457159e+08 | 45.0 | . 2 USDT | 2.783901e+08 | 28.0 | . 3 WBTC | 1.622389e+08 | 16.0 | . 4 WETH | 8.141258e+07 | 8.0 | . 5 other | 2.897250e+07 | 3.0 | . Top Destinations . The destination addresses &amp; contracts were classified by project or protocol to understand where users were going after bridging to Polygon. We managed to classify over 70 of these destination contracts to account for over 75% of the value moved. There was a very long tail (over 23k addresses) accounting for the remaining 25% of the value - these are labelled as &quot;Unknown&quot; in the data going forward. . The graph below shows the next destination of the bridged funds. Aave is the top destination, with a lot of value coming into Polygon to take part in borrowing &amp; lending activities. A number of familiar names from the Ethereum ecosystem are in the list - Curve, 1inch, Balance, Sushi - but there are a few non-Ethereum specific names in the list - Quickswap, Iron Finance, Polynetwork. An interesting find in this list are the bridges - a signficant portion of funds were immediately bridged out of Polygon after being bridged in. This was done via the Polygon Bridge (&quot;Bridge Out&quot;) or via the Allbridge facility. It&#39;s possible users are using Allbridge to get to chains such as Solana or Binance using Polygon as an intermediate step. . . . Flow of Funds . By Destination . The graph below shows the flow of funds from bridge, by token bridged, into the destination protocols shown above. We can see the large flows into Aave - interestingly most of the Aave flow is USDC, USDT or WBTC. WETH makes up only a small portion of the flow. WETH yields are usually low on Aave, but WBTC yields are too. Low yields do not show the full picture of user behaviour here. . . . By Use Case . To simplify the above graph, each destination was classified into a broad use case grouping. This is shown in the graph below. Users coming to Polygon for Defi activities (Aave, Iron Finance etc) account for the largest grouping. Here we see the amount of funds bridge immediately back out of Polygon - 11% of funds bridge in are immediately bridged out. Another observation from this graph is that there is a small amount of hodling occuring - this is seen where the inflows to each token are less than the outflows. . . . Most Popular Destinations by Day . The chart below shows, by day, the ranking of each of the destinations by the USD amount sent to them. This chart is very busy and a littled difficult to intepret. To target a particular protocol, double-click on the protocol in the legend and the graph will isolate just that protocol. Clicking on another protocol after this will add it to the graph. Double-click again to return to all values. . Aave is consistently the top performer, being always ranked at number 4 or higher. The unknown category also features highly - indicating that there are a wide variety of destinations on Polygon and it&#39;s not just a small handful capturing all the action. The behaviour with bridges continues to yield interesting insight - Allbridge has risen to be a consistent top 5 destination in the last 2 weeks - perhaps this is coincident with the rise in interest in Solana, as Allbridge can be used to bridge to this chain. . . . Most Popular Use Cases by Day . To simplify the above graph, we used the broader classes of use cases rather than the destination protcols. Here we see that Defi usage is on average the highest - this contains Aave. Users are obviously keen to generate yield from their funds in Polygon, taking advantage of the low fees relative to Ethereum to deposit their funds. We also see that funds jumping straight to dex swaps has dropped off - 3-4 weeks ago this was the highest use case, now it is amongst the lowest. . . . Conclusions . The Polygon Bridge allows users to bring funds from Ethereum into the Polygon ecosystem. We have looked at what users do once they bridge funds in. We have discovered the following insights: . 97% of value bridged in is 4 tokens - USDT, USDC, WBTC, WETH - with a long tail of other tokens. | The top single destination for bridged funds is depositing on Aave. | There is a mix of Ethereum-based protocols used (Aave, Curve, Balancer, Sushi) and protocols that are based in other chains like Polygon &amp; BSC (Quickswap, Iron Finance). The former indicates users bridging to Polygon for the lower fee environment, but the latter indicates there may be pull due to some unique opportunities on the ecosystem. | We saw 11% of funds bridged in immediately bridged out in the next transaction. It&#39;s possible that Polygon is being used as an intermediate step to bridge to other ecosystems. | We looked at the most popular destinations and use cases by day - Defi usage (depositing, yield seeking) is consistently the most common use case, driven by Aave. | .",
            "url": "https://scottincrypto.github.io/analytics/polygon/2021/09/15/Polygon_Bridge.html",
            "relUrl": "/polygon/2021/09/15/Polygon_Bridge.html",
            "date": " • Sep 15, 2021"
        }
        
    
  
    
        ,"post10": {
            "title": "Terra Validator Churn",
            "content": "Introduction . The Terra network operates a set of proof of stake validator nodes to provide security for the network. Validators are judged on their uptime and on the quality of their validation - any deviations from expectations can result in slashing and loss of funds for the validator operator. This post explores some uptime &amp; downtime insights of the Terra validator nodes. . How often do Validators go down? . How often do validators that have been online at least once in the past 6 months turn off? It turns out, that on average, it happens pretty often - once every 1.6 hours for each validator (see table below). This simple statistic doesn&#39;t really tell the story though - there are some very reliable validators and some rather unreliable ones making up this average. . We took a dataset of all validators who collected rewards over the last 6 months, and looked for the liveness events recorded on chain. These events are collected by the protocol and used in slashing calculations for nodes that haven&#39;t met their validation requirements. These events keep a record of how many blocks a validator missed validating. . Taking these liveness events and looking at how many, on average, each validator has had over this time (adjusting for how long the validator has been running), we can calculate an average time between downtime events for each validator. Another name for this metric is Mean Time Between Failure (MTBF) - a common metric in Asset Management. We can plot the MTBF for each validator and see what the distribution looks like below. . MTBF . 1 1.6 | . . . We see there is a large variation between validators, pointing towards the conclusion that there are a number of very professional outfits, and potentially some less skilled or resourced node operators on the network. There are 4 validators who operate with an MTBF of greater than 60 hours (one downtime event every 2-3 days) and there are nearly 50 who operate at less than 2 hours between each downtime event. . Change in MTBF Over Time . To see how the MTBF metric has changed over the last 6 months, we plot the MTBF (per validator) over time below. We can see there has been a marked decrease in MTBF over the 6 months, with early weeks as high as 6 hours between downtime events, trending down to less than 1 hour per event per validator. This indicates a decrease in the overall reliability of the validator nodes over this time period. . . . High Performing Validators . We saw earlier that there was a distinct difference between the best and worst performing validators. The graph below segments the data to just look at the top 10 best performing validators (by number of downtime events relative to their operating time) over the last 6 months. Here we also see a downward trend. Earlier, MTBF ranged in the hundreds of hours between failures. This has trended down to around 30 hours between dowtime events. Notice that this is more than an order of magnitude better than the current average of around 1 hour. . . . Low Performing Validators . Performing the same analysis on the worst 10 validators (by downtime events) we can see why the average is so low. The most recent week average MTBF for this group is around 8 minutes, and there is a distinct downtrend from 6 months ago when this number was as high as 1 hour. This mirrors what we have seen in the rest of the dataset - reliability is trending downwards. . . . Conclusions . The data above has explored the downtime events among Terra validators. We have seen that, on average over the entire validator set, validators miss blocks around once every 1.6 hours. There is a vast difference between validators however - the best 10 validators currently miss blocks every 30 hours and the worst 10 miss one every 8 minutes. Across all datasets there has been a trend of decreasing reliability compared with 6 months ago. . References . All data sourced from Flipside Crypto. Data sources: . https://api.flipsidecrypto.com/api/v2/queries/5eebcedf-5edd-4afd-931a-5932d5fbf964/data/latest https://api.flipsidecrypto.com/api/v2/queries/9c6e455a-66eb-45f9-b87a-c76d716e0040/data/latest https://api.flipsidecrypto.com/api/v2/queries/7013252f-a0fe-43b2-abea-b4f42e319210/data/latest https://api.flipsidecrypto.com/api/v2/queries/5ac709ee-887c-4522-9bc8-15cec97720e0/data/latest .",
            "url": "https://scottincrypto.github.io/analytics/terra/validators/2021/09/12/Terra_Validator_Churn.html",
            "relUrl": "/terra/validators/2021/09/12/Terra_Validator_Churn.html",
            "date": " • Sep 12, 2021"
        }
        
    
  
    
        ,"post11": {
            "title": "Anchor bAsset Usage",
            "content": "Here we attempt to answer the questions: . What is the number of users who are using Anchor to both borrow against their bAssets and place those borrows directly in Earn? What is the average leverage LTV risk they are taking in doing this? . Anchor is a borrow/lend protocol on the Terra Blockchain. It accepts assets for collateral (Luna and Eth), however these assets must be bonded first - a locked form of staking. Hence the collateral tokens accepted are bLuna and bEth. Once these bTokens are deposited in Anchor, users are able to borrow UST against, up to a maximum Loan-to-Value ratio of 60%. The LTV is simply the borrowed amount in UST divided by the current USD value of the collateral. If the LTV goes above 60% due to the collateral value falling, the loan can be liquidated and the borrower will lose a portion of the capital to repay the loan. . Anchor also has a deposit facility, where users can deposit UST and earn an interest rate from it. At the time of writing this article, the yields are very health. Anchor deposits earn 19.44% APR. This yield is slightly lower than the borrow interest rate - 21.1%, however there are ANC incentive rewards on the borrow side. This gives a net borrow interest rate of 18.8% in favour of the borrower. Yes, you read that correctly - you are paid to borrow money and paid again to deposit back into the protocol. . Number of Users Borrowing &amp; Depositing . With this deal on offer (possibly the best stablecoin yield in DeFi) it is no surprise that lots of users are taking up the offer. In pulling these data together, there were well over 0.5m transactions on the protocol. It was clear that users do multiple transactions - the table below shows 15,523 unique wallets who had both borrowed money from Anchor and deposited a sum back into the Earn portion. . A quick note on the data aggregation method - because of the large numbers of transactions, the data was simplified according the following rules: . Data was aggregated by day | A users collateral deposit &amp; withdrawal events were summed over the day, with the resulting collateral amount being the running total of all their collateral transactions to the end of that day | A users borrow &amp; repayment events were also summed over the day, with the resulting net borrowing position amount being the running total of all their borrow/repay transactions to the end of that day | Users deposit events were summed over the day | . This approach simplified the data considerably (0.5m events down to 65k events) but generated a small number of edge cases which didn&#39;t make sense after aggregation. These were driven by intra-day events - if a user deposited collateral, borrowed against it, deposited, withdrew the deposit, repaid the loan then withdrew the collateral, this would show up as a borrow event with no loan and no collateral. These small number of edge events (1000 or so) were filtered from the dataset. The remaining data will still be representative of user behaviour. There is also the underlying assumption that if a user deposited on the same day they borrowed, then they were depositing the borrowed money. . Unique Wallets . 1 15523 | . How much do People Borrow? . It&#39;s worth a look at what the typical loan sizes are for the people who are borrowing and depositing back into Anchor. The graph below shows, for each unique wallet, what was the peak borrow position for that wallet. In other words, of all the days that the user deposited back into Anchor Earn, what was the largest loan total they over those days. This gives us a feel for how deep each user was prepared to borrow from Anchor. . The graph below shows this distribution, with the maximum loan position along the bottom of the graph. It shows that most wallets borrow between 100 UST and 10,000 UST. Given the excellent returns, it&#39;s no surprise to see some big accounts. There are over 100 wallets who had over 1m UST outstanding, and 15 who had more than 15m UST outstanding. . . . What Collateral Assets are Used? . When Anchor launched the only available collateral asset was bonded Luna (bLuna), available from bonding Luna tokens to a validator via the Anchor protocol. In August 2021, Ether became an Anchor asset. This was done via the Lido protocol on Ethereum. Users are able to wrap ETH or stETH (ETH already staked on Lido) into a bEth token which represents their staked ETH on the Terra blockchain. This allows users to retain long term exposure to ETH, whilst taking advantage of the yields on offer in Anchor. Unsurprisingly, users have taken advantage of this. The graph below shows the % of collateral assets deposited in Anchor by our users (those who are both borrowing &amp; depositing on Anchor). After launch, the % of bEth as collateral quickly jumped to around 5% of the total. Expect to see this rise as more users find out about this yield opportunity. Anchor plans to add more assets to the potential collateral pool in the future. . . . Loan to Valuation Ratio . Average LTV . To calculate the Loan to Valuation Ratios, on each day that a user made a deposit, we took the outstanding loan position and divided it by the collateral position on that day - using that days underlying asset prices. The table below shows the average LTV ratio for all users - around 32%. This is around half of the liquidation cuttof of 60%, and is lower than the Anchor recommended LTV of 45%. It appears users are relatively conservative with their loans - no surprises given how volatile the underlying assets can be. . Average LTV % Weighted Average LTV % . 1 31.6 | 32.7 | . Distribution of LTVs . The graph below shows a histogram of the LTVs for all days where a wallet deposited borrowed funds in Anchor. Standout features include a big spike around 35% - this seems to be the most popular range. There are also spikes in 5% increments from 20% through to 45% - it seems that people gravitate towards multiples of 5. An evolutionary impact of having 5 fingers perhaps? It is also clear that most users borrow at less than the Anchor recommended LTV of 45%. There are a small numbers of thrillseekers however who deposit right up to the 60% limit. Liquidation stats for these users would be interesting. . . . LTV by Borrow Position Size . Next we will see if there is any correlation between the size of a users outstanding borrow position and the LTV they choose when borrowing. The graph below shows a clear trend - lower value borrowers have a lower LTV and higher borrowers take on more liquidation risk. In particular, the accounts with &gt;1m UST outstanding have the highest LTVs - around 38% on average. It&#39;s possible that these users spend more time watching the markets, perhaps understand them better and are confident to take on a higher amount of risk. . The graph below this one is the same data, but shown with a boxplot. The same trend is evident, and we see that the &gt;1m UST borrowers have a narrower range of LTV. . . . . . LTV Over Time . Looking at LTV over time, we see some variation - LTV ranges between around 28% at the low point, and around 35% at a high. Interesting datapoints include the sharp drop in LTV in mid-May 2021. THis was the time when crypto asset prices suffered sharp and substantial drops. It&#39;s possible that higher leveraged positions were flushed out by liquidations during these rapid price falls. The sharp rise in LTV from June through to August coincided with Luna rising in price from USD 6 to USD 30 - this obviously gave users confidence to borrow against these rising positions &amp; take advantage of the juicy Anchor borrow &amp; deposit rates. . . . LTV by Borrow Position Size over Time . We will repeat the chart from above, but split by our borrow size cohorts from the previous sections. There are common trends evident in the data - the May 2021 price crash seemed to impact all users. An interesting group is the 1m-10m UST borrow group - they seem to push the LTV consistently up towards 40%, indicating a purposeful and managed approach to farming yield on Anchor. . . . Conclusions . The on-chain data has shown over 15,000 unique wallets which are both borrowing from Anchor and depositing in the Earn facility at the same time. These users, on average have an LTV of around 32%. This LTV differs depending on the size of the loan, with larger users prepared to take on more liquidation risk. The LTV has changed over time, seemingly in response to market pricing changes in underlying assets. In particular, there was suggestion that rapid price falls caused liquidations, leading to lower overall LTVs. . Data sourced from Flipside Crypto: https://api.flipsidecrypto.com/api/v2/queries/1d474896-d69b-41f3-9f6f-e9c1f5a70a5f/data/latest .",
            "url": "https://scottincrypto.github.io/analytics/terra/anchor/2021/09/08/Anchor_bAssets_Usage.html",
            "relUrl": "/terra/anchor/2021/09/08/Anchor_bAssets_Usage.html",
            "date": " • Sep 8, 2021"
        }
        
    
  
    
        ,"post12": {
            "title": "Yearn Vaults & Strategies",
            "content": "Yearn TVL and ROI . Exploring which vaults have the most value locked and highest ROI . Comparing Yearn Strategies . A look at Yearn Strategies, with a drilldown into the yvCurve-USDN vault. Featured as Bounty of the Week and in this Flipside Crypto Blog .",
            "url": "https://scottincrypto.github.io/analytics/flipside/yearn/2021/09/04/Yearn-Vaults-And_Strategies.html",
            "relUrl": "/flipside/yearn/2021/09/04/Yearn-Vaults-And_Strategies.html",
            "date": " • Sep 4, 2021"
        }
        
    
  
    
        ,"post13": {
            "title": "Flipside Crypto Prize Winning Bounty Projects",
            "content": "Yearn Bounties . Yearn TVL and ROI Comparing Yearn Strategies as featured as Bounty of the Week and in this Flipside Crypto Blog . Polygon Bounties . Polygon Bridging Behaviour as featured in this Flipside Crypto Blog . Terra Network Bounties . Exploring Mirror Airdrop featured in this Flipside Crypto blog post Terra New User Inflow featured as Bounty of the Week Terra Validator Rankings featured in this Flipside Crypto blog Terra Transaction Fees Terra Tax Rate Terra Validators Self Delegating Angel Protocol Delegations . Uniswap Bounties . Uniswap Fee Volatility featured in this Flipside Crypto Blog Uniswap Voting Power Distribution featured in this Flipside Crypto Blog Defi Users vs Newbies . Compound Protocol Bounties . Compound APY Volatility Compound Investment Strategy Impacts of Crypto Price Crash on Compound Users Compound Collateralization Ratio Typical Compound Users Compound Flash Loans Compound - Miners &amp; Liquidations Flipside Crypto blog featuring some of these Compound Bounties .",
            "url": "https://scottincrypto.github.io/analytics/flipside/2021/09/01/Flipside-Crypto-Grand-Prize-Winning-Bounties.html",
            "relUrl": "/flipside/2021/09/01/Flipside-Crypto-Grand-Prize-Winning-Bounties.html",
            "date": " • Sep 1, 2021"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "Scott Simpson @scottincrypto . Available for Crypto Analytics work, including: . Dune Analytics | Flipside Crypto | . This website is powered by fastpages 1. . a blogging platform that natively supports Jupyter notebooks in addition to other formats. &#8617; . |",
          "url": "https://scottincrypto.github.io/analytics/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page10": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://scottincrypto.github.io/analytics/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}